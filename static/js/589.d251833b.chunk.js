"use strict";(self.webpackChunkdapp=self.webpackChunkdapp||[]).push([[589],{703:(e,s,a)=>{a.d(s,{z:()=>l});a(2791);var t=a(8182),n=a(184);const l=e=>{let{onClick:s,children:a,disabled:l,buttonProps:i,className:r}=e;const c=(0,t.Z)("button",r,{disabled:l});return(0,n.jsx)("button",{...i,className:c,onClick:s,disabled:l,children:a})}},205:(e,s,a)=>{a.d(s,{I:()=>l});var t=a(2791),n=a(184);const l=(0,t.memo)((e=>{let{inputProps:s,onChange:a,value:t,placeholder:l,name:i}=e;return(0,n.jsx)("div",{className:"input_container",children:(0,n.jsx)("input",{...s,className:"input",onChange:a,value:t,placeholder:l,name:i})})}))},2270:(e,s,a)=>{a.d(s,{u:()=>l});a(2791);var t=a(6299),n=a(184);const l=e=>{let{lives:s,health:a,healthMax:l,energy:i,energyMax:r}=e;const c=l?(null!==a&&void 0!==a?a:0)/l*100:100,o=r?(null!==i&&void 0!==i?i:0)/r*100:100;let d=[];return null!=s&&(d=Array(t.Oo).fill(null).map(((e,a)=>a+1>s?(0,n.jsx)("div",{className:"lifeIndicator empty"},a):(0,n.jsx)("div",{className:"lifeIndicator"},a)))),(0,n.jsxs)("div",{className:"outer-wrapper",children:[null!=s&&(0,n.jsxs)("div",{className:"flex-container",children:[(0,n.jsx)("div",{className:"elem1 leftText",children:"Lives"}),(0,n.jsx)("div",{className:"elem2 livesContainer",children:d}),(0,n.jsxs)("div",{className:"elem3 elem_number",children:[s,"/5"]})]}),(0,n.jsxs)("div",{className:"flex-container",children:[(0,n.jsx)("div",{className:"elem1 leftText",children:"Health"}),(0,n.jsx)("div",{className:"elem2 healthBar",children:(0,n.jsx)("div",{className:"healthBarInner",style:{maxWidth:`${c}%`}})}),(0,n.jsx)("div",{className:"elem3 elem_number",children:l?`${a}/${l}`:a})]}),(0,n.jsxs)("div",{className:"flex-container",children:[(0,n.jsx)("div",{className:"elem1 leftText",children:"Energy"}),(0,n.jsx)("div",{className:"elem2 energyBar",children:(0,n.jsx)("div",{className:"energyBarInner",style:{maxWidth:`${o}%`}})}),(0,n.jsx)("div",{className:"elem3 elem_number",children:r?`${i}/${r}`:i})]})]})}},139:(e,s,a)=>{a.d(s,{Z:()=>i});var t=a(3675),n=a(2791),l=a(9778).lW;const i=e=>{const s=(0,t.VY)(),[a,i]=(0,n.useState)();return(0,n.useEffect)((()=>{e&&fetch(e).then((e=>e.arrayBuffer())).then((e=>l.from(e))).then((e=>i(e))).catch((e=>{let{message:a}=e;return s.error(`Fetch error: ${a}`)}))}),[s,e]),{buffer:a}}},6899:(e,s,a)=>{a.r(s),a.d(s,{MintCharacter:()=>Z});var t=a(2791),n=a(3675),l=a(2529),i=a(9702),r=a(950);const c=(0,r.MT)(null),o=(0,r.yM)();(0,r.UP)({clock:o,target:c});const d={$user:c,setName:o};var m=a(9312),h=a(205),u=a(703),p=a(8501),x=a(7065),v=a(184);const j=e=>{let{firstButton:s,value:a,secondButton:t,leftText:n,onClickFirstButton:l,onClickSecondButton:i,isFirstDisabled:r=!1,isSecondDisabled:c=!1}=e;return(0,v.jsxs)("div",{className:"pointButtonWrapper",children:[(0,v.jsx)("div",{className:"buttonText",children:n}),(0,v.jsxs)(p.z.Group,{children:[l&&(0,v.jsx)(p.z,{className:"pointButton",onClick:l,disabled:r,children:s}),(0,v.jsx)(x.k,{align:"center",justify:"center",style:{cursor:"default"},className:"pointButton secondBtn",children:a}),i&&(0,v.jsx)(p.z,{className:"pointButton",onClick:i,disabled:c,children:t})]})]})};var g=a(2270),f=a(905),C=a(245),N=a(7230),b=a(3901),y=a(1479),k=a(9474),B=a(2765),I=a(5596);const M=e=>{let{children:s,quoteUrl:a}=e;return(0,v.jsxs)("div",{children:[(0,v.jsx)(B.x,{component:"span",c:"white",fw:"600",fz:18,children:s}),a&&(0,v.jsx)(I.e,{ml:4,target:"_blank",rel:"noopener",href:a,children:"[?]"})]})},S=e=>{let{onChange:s}=e;const[a,n]=(0,t.useState)();return(0,v.jsxs)(b.K,{gap:"sm",children:[(0,v.jsx)(M,{quoteUrl:"https://impulse-dao.gitbook.io/impulse-dao/games-for-developers/arena",children:"Choose a School of Magic"}),(0,v.jsx)(b.K,{gap:"sm",children:["fire","water","earth"].map(((e,t)=>(0,v.jsx)(_,{isChecked:e===a,type:e,onClick:()=>(e=>{n(e),s(e)})(e),disabled:null!=a&&e!==a},t)))})]})},_=e=>{let{type:s,isChecked:a,onClick:t,disabled:n}=e;return(0,v.jsxs)(x.k,{gap:"md",align:"center",style:{cursor:"pointer"},onClick:t,children:[(0,v.jsx)(y.Y,{checked:a,color:"white",size:"xs",styles:{icon:{color:"black"}}}),(0,v.jsx)(k.f,{type:s,disabled:n})]})};var w=a(763),z=a(8906),$=a(6299);const T=(0,t.memo)((e=>{let{stats:s,decrease:a,increase:n,disabled:l,onSubmit:i,onChange:r,onShoolOfMagicChange:c,onUploadCodeChange:o,name:d,codeId:m,setCodeId:p}=e;const x=(0,t.useRef)({...s});return(0,v.jsx)("div",{className:"mint_char",children:(0,v.jsxs)(f.i,{className:"table_container",children:[(0,v.jsx)("div",{className:"table_header",children:"Mint character to proceed"}),(0,v.jsxs)("div",{className:"modal_wrapper",children:[(0,v.jsxs)("div",{className:"modal_left",children:[(0,v.jsxs)("div",{className:"top_wrapper",children:[(0,v.jsx)(M,{quoteUrl:"https://impulse-dao.gitbook.io/impulse-dao/games-for-developers/arena",children:"Character info"}),(0,v.jsx)(h.I,{className:"input_container",onChange:r,value:d,placeholder:"Enter character name",name:"name"}),(0,v.jsx)(z.H,{codeId:m,setCodeId:p,onUploadCodeChange:o})]}),(0,v.jsx)(U,{points:s.points}),["strength","agility","vitality","stamina","intelligence"].map((e=>(0,v.jsx)(j,{leftText:(0,w.capitalize)(e),firstButton:"-",value:s[e],secondButton:"+",onClickFirstButton:()=>a(e),onClickSecondButton:()=>n(e),isFirstDisabled:s[e]===x.current[e],isSecondDisabled:0===s.points},e)))]}),(0,v.jsxs)("div",{className:"modal_right",children:[(0,v.jsx)(C.x,{pt:"2.5rem",mb:"2rem",children:(0,v.jsx)(g.u,{health:(0,$.K4)(s.vitality),energy:(0,$.JJ)(s.stamina)})}),(0,v.jsx)(S,{onChange:c})]})]}),(0,v.jsxs)("div",{className:"buttonsGrid",children:[(0,v.jsx)(u.z,{className:"cancelButton",onClick:()=>{},children:"Cancel"}),(0,v.jsxs)(u.z,{className:"mintButton",onClick:i,disabled:l,children:["Mint character",(0,v.jsx)(N.C,{component:"span",c:"white",styles:{root:{backgroundColor:"#484848",pointerEvents:"none"}},children:"100 vara"})]}),(0,v.jsx)("div",{className:"textWrapper",children:"75% is added to this season's prize pool"})]})]})})})),U=e=>{let{points:s}=e;return(0,v.jsxs)("div",{className:"points",children:["Points left:",(0,v.jsx)("span",{children:s})," "]})};var E=a(139),P=a(7689),F=a(8311),V=a(8624);var W=a(9196);const Z=(0,t.memo)((()=>{var e;const{buffer:s}=(0,E.Z)(m),a=(0,l.eY)(d.setName),{account:r}=(0,n.mA)(),c=(0,t.useMemo)((()=>i.Pj.from($.cV)),[]),o=(0,t.useMemo)((()=>({programId:$.ZB,programMetadata:c,wasm:s,functionName:"character_info",argument:null===r||void 0===r?void 0:r.decodedAddress})),[c,s,null===r||void 0===r?void 0:r.decodedAddress]),h=(0,n.J1)(o),[u,p]=(0,t.useState)({codeId:null!==(e=(0,W.pX)()[0])&&void 0!==e?e:"",name:""}),{decrease:x,increase:j,stats:g}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{strength:1,agility:1,vitality:1,stamina:1,intelligence:1,points:5};const[s,a]=(0,t.useState)(e);return{decrease:e=>{s[e]>1&&a((s=>({...s,[e]:s[e]-1,points:s.points+1})))},increase:e=>{s.points>0&&a((s=>({...s,[e]:s[e]+1,points:s.points-1})))},stats:s}}(),f=(e=>{let{codeId:s,name:a,stats:l,onSuccess:r}=e;const c=(0,t.useRef)(r);c.current=r;const o=(0,V.e)(),d=(0,t.useMemo)((()=>i.Pj.from($.cV)),[]),m=(0,n.$3)($.ZB,d,{isMaxGasLimit:!0}),h=(0,P.s0)();return(0,t.useCallback)((async()=>{const e={CreateCharacter:{code_id:s,attributes:{agility:l.agility,stamina:l.stamina,strength:l.strength,vitality:l.vitality,intelligence:l.intelligence},name:a}};m({payload:e,gasLimit:$.yQ,withVoucher:o,onSuccess:e=>{var s;console.log("success",e),null===(s=c.current)||void 0===s||s.call(c),(0,F.iV)(),h("/arena")},onError:()=>{console.log("error")},value:$.H5})}),[s,a,h,m,o,l])})({...u,stats:g}),C=(e=>(0,t.useCallback)((s=>{let{target:a}=s;e((e=>({...e,[a.name]:a.value})))}),[e]))(p);return(0,t.useEffect)((()=>{h.state&&a(h.state)}),[h.state,a]),(0,v.jsx)(T,{codeId:u.codeId,setCodeId:e=>p({...u,codeId:e}),name:u.name,disabled:!!g.points||!u.name,decrease:x,increase:j,onChange:C,onSubmit:f,onShoolOfMagicChange:e=>{},onUploadCodeChange:e=>p({...u,codeId:e}),stats:g})}))},9312:(e,s,a)=>{e.exports=a.p+"static/media/mint.opt.29e1e8b91f9cc99a262d.wasm"}}]);
//# sourceMappingURL=589.d251833b.chunk.js.map