"use strict";(self.webpackChunkdapp=self.webpackChunkdapp||[]).push([[225],{8311:(e,t,a)=>{a.d(t,{AX:()=>d,C7:()=>c,iV:()=>s});var r=a(3675),n=a(6070),l=a(3051),o=a(9664);(0,n.B)("\n  query AllCharacters {\n    characters {\n      id\n      level\n      name\n      owner\n      experience\n      attributes\n    }\n  }\n");const i=(0,n.B)("\n  query CharactersByOwner($owner_eq: String!) {\n    characters(where: { owner_eq: $owner_eq }) {\n      id\n      level\n      name\n      owner\n      experience\n      attributes\n    }\n  }\n"),s=()=>{const e=(0,l.P)(i);o.E.invalidateQueries({queryKey:[e]})},d=e=>{let{owner_eq:t}=e;return(0,l.a)(i,{owner_eq:t})},c=()=>{var e;const{account:t}=(0,r.mA)(),a=d({owner_eq:null!==(e=null===t||void 0===t?void 0:t.decodedAddress)&&void 0!==e?e:""}),n=a.data;return{...a,data:null===n||void 0===n?void 0:n.characters[(null===n||void 0===n?void 0:n.characters.length)-1]}};(0,n.B)("\n  query CharacterById($character_id: String!) {\n    characterById(id: $character_id) {\n      attributes\n      experience\n      id\n      level\n      name\n      owner\n    }\n  }\n")},6880:(e,t,a)=>{a.d(t,{OY:()=>d,M:()=>c,OV:()=>m});var r=a(9702),n=a(6299),l=a(1313),o=a(5863),i=a(3675);var s=a(8311);const d=(0,o.r)({use:[e=>t=>{const{api:a}=(0,i.h_)();return e({...t,meta:{...t.meta,api:a}})}],queryKey:["mintProgramState"],fetcher:async(e,t)=>{var a;let{programId:n,metadata:l}=e;const o=r.Pj.from(l),i=null===(a=t.meta)||void 0===a?void 0:a.api,s=await(null===i||void 0===i?void 0:i.programState.read({programId:n,payload:void 0},o));return null===s||void 0===s?void 0:s.toJSON()}}),c=()=>{const e=(0,l.i)();return d({variables:{metadata:n.cV,programId:n.ZB},select:t=>{var a,r;return null!==(a=null===(r=t.characters)||void 0===r?void 0:r[null!==e&&void 0!==e?e:""])&&void 0!==a?a:null}})},m=()=>{var e;const t=null!==(e=(0,l.i)())&&void 0!==e?e:"",{data:a}=(0,s.AX)({owner_eq:t}),{data:r}=c();return{isDead:0!==(null===a||void 0===a?void 0:a.characters.length)&&!r,isFresh:0===(null===a||void 0===a?void 0:a.characters.length)}}},1313:(e,t,a)=>{a.d(t,{i:()=>n});var r=a(3675);const n=()=>{const{account:e}=(0,r.mA)();return null===e||void 0===e?void 0:e.decodedAddress}},7225:(e,t,a)=>{a.r(t),a.d(t,{Leaderboard:()=>m});var r=a(2791),n=a(6880),l=a(6299),o=a(905),i=a(2765),s=a(5850),d=a(1313),c=a(184);const m=()=>{const e=(0,d.i)(),{data:t}=(0,n.OY)({variables:{metadata:l.cV,programId:l.ZB}}),{characters:a}=null!==t&&void 0!==t?t:{characters:{}},m=(0,r.useMemo)((()=>Object.entries(a).sort(((e,t)=>{let[,a]=e,[,r]=t;return-1*(a.attributes.tierRating-r.attributes.tierRating)}))),[a]).map((t=>{let[a,r]=t;const n=a===e;return{name:r.name,level:r.level,exp:r.experience,ownerId:a,rating:r.attributes.tierRating,isMyCharacter:n}}));return(0,c.jsx)("div",{className:"leaderboard",children:(0,c.jsxs)("div",{className:"content-wrapper",children:[(0,c.jsx)("div",{className:"header",children:"Leaderboard"}),(0,c.jsx)("div",{className:"modal_table",children:(0,c.jsxs)(o.i,{horizontalSpacing:"md",verticalSpacing:"md",children:[(0,c.jsx)(o.i.Thead,{children:(0,c.jsx)(o.i.Tr,{children:["Rating","Name","Level","Owner ID"].map(((e,t)=>(0,c.jsx)(o.i.Th,{w:h[t],ta:v[t],children:e},e)))})}),(0,c.jsx)(o.i.Tbody,{children:m.map((e=>(0,c.jsx)(o.i.Tr,{className:["table_row",e.isMyCharacter?"table_row_highlighted":""].join(" "),children:[(0,c.jsx)("div",{className:"badge",children:e.rating}),(0,c.jsxs)(i.x,{size:"md",children:[" ",e.name]}),(0,c.jsx)("div",{className:"badge",children:e.level}),(0,c.jsx)("div",{children:(0,s.f5)(e.ownerId)})].map(((e,t)=>(0,c.jsx)(o.i.Td,{w:h[t],ta:v[t],children:e},t)))})))})]})})]})})},h={0:"10%",1:"30%",3:"40%"},v={0:"center",1:"left",2:"center"}},905:(e,t,a)=>{a.d(t,{i:()=>_});var r=a(2791),n=a(2020),l=a(5146),o=a(5838),i=a(3768),s=a(6519),d=a(204),c=a(245),m=a(8592),h=a(4799);const[v,p]=(0,h.R)("Table component was not found in the tree");var u={table:"m-b23fa0ef",th:"m-4e7aa4f3",tr:"m-4e7aa4fd",td:"m-4e7aa4ef",tbody:"m-b2404537",thead:"m-b242d975",caption:"m-9e5a3ac7",scrollContainer:"m-a100c15",scrollContainerInner:"m-62259741"};function y(e,t){if(!t)return;const a={};return t.columnBorder&&e.withColumnBorders&&(a["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(a["data-with-row-border"]=!0),t.striped&&e.striped&&(a["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(a["data-hover"]=!0),t.captionSide&&e.captionSide&&(a["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(a["data-sticky"]=!0),a}function b(e,t){const a=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,n=(0,m.d)(((n,l)=>{const o=(0,s.w)(a,{},n),{classNames:i,className:d,style:m,styles:h,...v}=o,u=p();return r.createElement(c.x,{component:e,ref:l,...y(u,t),...u.getStyles(e,{className:d,classNames:i,style:m,styles:h,props:o}),...v})}));return n.displayName=`@mantine/core/${a}`,n.classes=u,n}const g=b("th",{columnBorder:!0}),w=b("td",{columnBorder:!0}),f=b("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),x=b("thead",{stickyHeader:!0}),C=b("tbody"),N=b("tfoot"),S=b("caption",{captionSide:!0});function T(e){let{data:t}=e;return r.createElement(r.Fragment,null,t.caption&&r.createElement(S,null,t.caption),t.head&&r.createElement(x,null,r.createElement(f,null,t.head.map(((e,t)=>r.createElement(g,{key:t},e))))),t.body&&r.createElement(C,null,t.body.map(((e,t)=>r.createElement(f,{key:t},e.map(((e,t)=>r.createElement(w,{key:t},e))))))),t.foot&&r.createElement(N,null,r.createElement(f,null,t.foot.map(((e,t)=>r.createElement(g,{key:t},e))))))}T.displayName="@mantine/core/TableDataRenderer";var B=a(1619);const E={type:"scrollarea"},j=(0,o.Z)(((e,t)=>{let{minWidth:a,type:r}=t;return{scrollContainer:{"--table-min-width":(0,n.h)(a),"--table-overflow":"native"===r?"auto":void 0}}})),k=(0,m.d)(((e,t)=>{const a=(0,s.w)("TableScrollContainer",E,e),{classNames:n,className:l,style:o,styles:i,unstyled:m,vars:h,children:v,minWidth:p,type:y,...b}=a,g=(0,d.y)({name:"TableScrollContainer",classes:u,props:a,className:l,style:o,classNames:n,styles:i,unstyled:m,vars:h,varsResolver:j,rootSelector:"scrollContainer"});return r.createElement(c.x,{component:"scrollarea"===y?B.x:"div",..."scrollarea"===y?{offsetScrollbars:"x"}:{},ref:t,...g("scrollContainer"),...b},r.createElement("div",{...g("scrollContainerInner")},v))}));k.classes=u,k.displayName="@mantine/core/TableScrollContainer";const O={withRowBorders:!0,verticalSpacing:7},H=(0,o.Z)(((e,t)=>{let{layout:a,captionSide:r,horizontalSpacing:o,verticalSpacing:s,borderColor:d,stripedColor:c,highlightOnHoverColor:m,striped:h,highlightOnHover:v,stickyHeaderOffset:p,stickyHeader:u}=t;return{table:{"--table-layout":a,"--table-caption-side":r,"--table-horizontal-spacing":(0,l.bG)(o),"--table-vertical-spacing":(0,l.bG)(s),"--table-border-color":d?(0,i.p)(d,e):void 0,"--table-striped-color":h&&c?(0,i.p)(c,e):void 0,"--table-highlight-on-hover-color":v&&m?(0,i.p)(m,e):void 0,"--table-sticky-header-offset":u?(0,n.h)(p):void 0}}})),_=(0,m.d)(((e,t)=>{const a=(0,s.w)("Table",O,e),{classNames:n,className:l,style:o,styles:i,unstyled:m,vars:h,horizontalSpacing:p,verticalSpacing:y,captionSide:b,stripedColor:g,highlightOnHoverColor:w,striped:f,highlightOnHover:x,withColumnBorders:C,withRowBorders:N,withTableBorder:S,borderColor:B,layout:E,variant:j,data:k,children:_,stickyHeader:R,stickyHeaderOffset:q,...I}=a,z=(0,d.y)({name:"Table",props:a,className:l,style:o,classes:u,classNames:n,styles:i,unstyled:m,rootSelector:"table",vars:h,varsResolver:H});return r.createElement(v,{value:{getStyles:z,stickyHeader:R,striped:!0===f?"odd":f||void 0,highlightOnHover:x,withColumnBorders:C,withRowBorders:N,captionSide:b||"bottom"}},r.createElement(c.x,{component:"table",variant:j,ref:t,mod:{"data-with-table-border":S},...z("table"),...I},_||!!k&&r.createElement(T,{data:k})))}));_.classes=u,_.displayName="@mantine/core/Table",_.Td=w,_.Th=g,_.Tr=f,_.Thead=x,_.Tbody=C,_.Tfoot=N,_.Caption=S,_.ScrollContainer=k,_.DataRenderer=T},2765:(e,t,a)=>{a.d(t,{x:()=>y});var r=a(2791),n=a(5146),l=a(5838),o=a(3768),i=a(1241),s=a(6519),d=a(204),c=a(245),m=a(6481),h={root:"m-b6d8b162"};function v(e){return"start"===e?"start":"end"===e||e?"end":void 0}const p={inherit:!1},u=(0,l.Z)(((e,t)=>{let{variant:a,lineClamp:r,gradient:l,size:s,color:d}=t;return{root:{"--text-fz":(0,n.yv)(s),"--text-lh":(0,n.Dp)(s),"--text-gradient":"gradient"===a?(0,i.u)(l,e):void 0,"--text-line-clamp":"number"===typeof r?r.toString():void 0,"--text-color":d?(0,o.p)(d,e):void 0}}})),y=(0,m.b)(((e,t)=>{const a=(0,s.w)("Text",p,e),{lineClamp:n,truncate:l,inline:o,inherit:i,gradient:m,span:y,__staticSelector:b,vars:g,className:w,style:f,classNames:x,styles:C,unstyled:N,variant:S,mod:T,size:B,...E}=a,j=(0,d.y)({name:["Text",b],props:a,classes:h,className:w,style:f,classNames:x,styles:C,unstyled:N,vars:g,varsResolver:u});return r.createElement(c.x,{...j("root",{focusable:!0}),ref:t,component:y?"span":"p",variant:S,mod:[{"data-truncate":v(l),"data-line-clamp":"number"===typeof n,"data-inline":o,"data-inherit":i},T],size:B,...E})}));y.classes=h,y.displayName="@mantine/core/Text"}}]);
//# sourceMappingURL=225.f3a7b94e.chunk.js.map