{"version":3,"file":"static/js/181.de1fff60.chunk.js","mappings":"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","sources":["app/api/battleLogs.ts","webpack://vara-arena/./src/pages/BattleResult/BattleResult.module.css?36eb","../node_modules/@mantine/hooks/src/use-hotkeys/parse-hotkey.ts","../node_modules/@mantine/hooks/src/use-hotkeys/use-hotkeys.ts","webpack://vara-arena/./src/pages/BattleResult/components/TextButton/TextButton.module.css?82cd","pages/BattleResult/components/TextButton/TextButton.tsx","pages/BattleResult/components/types.ts","pages/BattleResult/components/visualizeBattleLog/visualizeBattleLog.tsx","pages/BattleResult/components/CharPanel/CharPanel.tsx","pages/BattleResult/BattleResult.tsx","pages/BattleResult/TournamentResult.tsx","pages/BattleResult/components/useBattleIndex/useBattleIndex.ts","pages/BattleResult/components/BackgroundWrapper.tsx","pages/BattleResult/components/BattleResultNotFound.tsx"],"sourcesContent":["import { queryClient } from \"app/providers/ReactQuery\";\nimport {\n  getGraphQLPrimaryKey,\n  useGraphQL,\n} from \"app/providers/ReactQuery/useGraphQL\";\nimport { graphql } from \"gql/gql\";\nimport { BattleLog } from \"gql/graphql\";\n\nexport const allbattleLogsQueryDocument = graphql(`\n  query BattleLogs {\n    battleLogs {\n      id\n      battleIndex\n      character1 {\n        winner\n        attributes\n        character\n        experience\n        rating\n        level\n      }\n      character2 {\n        winner\n        attributes\n        experience\n        character\n        level\n        rating\n      }\n      lobby {\n        id\n        characters {\n          id\n          character {\n            owner\n            name\n            level\n            experience\n            attributes\n            id\n          }\n        }\n        capacity\n      }\n      turns {\n        character1 {\n          energy\n          hp\n          position\n        }\n        logs {\n          action\n          character\n        }\n        character2 {\n          energy\n          position\n          hp\n        }\n      }\n    }\n  }\n`);\n\nexport const invalidateAllBattleLogs = () =>\n  queryClient.invalidateQueries({\n    queryKey: [getGraphQLPrimaryKey(allbattleLogsQueryDocument)],\n  });\n\nexport const useAllBattleLogs = () => {\n  // variables are not used, but we should pass undefined so that we can omit the second argument and pass the third argument\n  const queryResult = useGraphQL(allbattleLogsQueryDocument, undefined, {\n    select: (data) => data.battleLogs,\n  });\n\n  return queryResult;\n};\n\n/**\n *\n */\n\nconst battleLogByIdQueryDocument = graphql(/* GraphQL */ `\n  query BattleLogById($battleId: String!) {\n    battleLogById(id: $battleId) {\n      id\n      battleIndex\n      character1 {\n        winner\n        attributes\n        character\n        experience\n        rating\n        level\n      }\n      character2 {\n        winner\n        attributes\n        experience\n        character\n        level\n        rating\n      }\n      lobby {\n        id\n        characters {\n          id\n          character {\n            owner\n            name\n            level\n            experience\n            attributes\n            id\n          }\n        }\n        capacity\n      }\n      turns {\n        character1 {\n          energy\n          hp\n          position\n        }\n        logs {\n          action\n          character\n        }\n        character2 {\n          energy\n          position\n          hp\n        }\n      }\n    }\n  }\n`);\n\nexport const useBattleLogById = ({ battleId }: { battleId?: string }) => {\n  const query = useGraphQL(\n    battleLogByIdQueryDocument,\n    {\n      battleId: `${battleId}`,\n    },\n    {\n      enabled: battleId != null,\n      select: (data) => data.battleLogById,\n      placeholderData: (previousData) => previousData,\n    }\n  );\n  return query;\n};\n\n/**\n * Battle logs by lobby id\n */\n\nconst battleLogsByLobbyIdQueryDocument = graphql(/* GraphQL */ `\n  query BattleLogsByLobbyId($lobbyId: String!) {\n    battleLogs(where: { lobby: { id_eq: $lobbyId } }) {\n      id\n    }\n  }\n`);\n\nexport const useBattleLogsByLobbyId = ({ lobbyId }: { lobbyId?: string }) => {\n  const query = useGraphQL(\n    battleLogsByLobbyIdQueryDocument,\n    {\n      lobbyId: `${lobbyId}`,\n    },\n    {\n      enabled: lobbyId != null,\n      select: (data) => data.battleLogs,\n    }\n  );\n  return query;\n};\n\n/**\n * Utils\n */\n\nexport const getCharacterFromBattleLogById = (\n  battleLog: BattleLog,\n  characterId: string\n) => {\n  return battleLog.lobby.characters.find(\n    ({ character: { id } }) => id === characterId\n  )?.character;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"element\":\"BattleResult_element__063Mz\",\"isInactive\":\"BattleResult_isInactive__E5cnv\"};","export type KeyboardModifiers = {\n  alt: boolean;\n  ctrl: boolean;\n  meta: boolean;\n  mod: boolean;\n  shift: boolean;\n};\n\nexport type Hotkey = KeyboardModifiers & {\n  key?: string;\n};\n\ntype CheckHotkeyMatch = (event: KeyboardEvent) => boolean;\n\nexport function parseHotkey(hotkey: string): Hotkey {\n  const keys = hotkey\n    .toLowerCase()\n    .split('+')\n    .map((part) => part.trim());\n\n  const modifiers: KeyboardModifiers = {\n    alt: keys.includes('alt'),\n    ctrl: keys.includes('ctrl'),\n    meta: keys.includes('meta'),\n    mod: keys.includes('mod'),\n    shift: keys.includes('shift'),\n  };\n\n  const reservedKeys = ['alt', 'ctrl', 'meta', 'shift', 'mod'];\n\n  const freeKey = keys.find((key) => !reservedKeys.includes(key));\n\n  return {\n    ...modifiers,\n    key: freeKey,\n  };\n}\n\nfunction isExactHotkey(hotkey: Hotkey, event: KeyboardEvent): boolean {\n  const { alt, ctrl, meta, mod, shift, key } = hotkey;\n  const { altKey, ctrlKey, metaKey, shiftKey, key: pressedKey } = event;\n\n  if (alt !== altKey) {\n    return false;\n  }\n\n  if (mod) {\n    if (!ctrlKey && !metaKey) {\n      return false;\n    }\n  } else {\n    if (ctrl !== ctrlKey) {\n      return false;\n    }\n    if (meta !== metaKey) {\n      return false;\n    }\n  }\n  if (shift !== shiftKey) {\n    return false;\n  }\n\n  if (\n    key &&\n    (pressedKey.toLowerCase() === key.toLowerCase() ||\n      event.code.replace('Key', '').toLowerCase() === key.toLowerCase())\n  ) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function getHotkeyMatcher(hotkey: string): CheckHotkeyMatch {\n  return (event) => isExactHotkey(parseHotkey(hotkey), event);\n}\n\nexport interface HotkeyItemOptions {\n  preventDefault?: boolean;\n}\n\ntype HotkeyItem = [\n  string,\n  (event: React.KeyboardEvent<HTMLElement> | KeyboardEvent) => void,\n  HotkeyItemOptions?,\n];\n\nexport function getHotkeyHandler(hotkeys: HotkeyItem[]) {\n  return (event: React.KeyboardEvent<HTMLElement> | KeyboardEvent) => {\n    const _event = 'nativeEvent' in event ? event.nativeEvent : event;\n    hotkeys.forEach(([hotkey, handler, options = { preventDefault: true }]) => {\n      if (getHotkeyMatcher(hotkey)(_event)) {\n        if (options.preventDefault) {\n          event.preventDefault();\n        }\n\n        handler(_event);\n      }\n    });\n  };\n}\n","import { useEffect } from 'react';\nimport { getHotkeyHandler, getHotkeyMatcher, HotkeyItemOptions } from './parse-hotkey';\n\nexport type { HotkeyItemOptions };\nexport { getHotkeyHandler };\n\nexport type HotkeyItem = [string, (event: KeyboardEvent) => void, HotkeyItemOptions?];\n\nfunction shouldFireEvent(\n  event: KeyboardEvent,\n  tagsToIgnore: string[],\n  triggerOnContentEditable = false\n) {\n  if (event.target instanceof HTMLElement) {\n    if (triggerOnContentEditable) {\n      return !tagsToIgnore.includes(event.target.tagName);\n    }\n\n    return !event.target.isContentEditable && !tagsToIgnore.includes(event.target.tagName);\n  }\n\n  return true;\n}\n\nexport function useHotkeys(\n  hotkeys: HotkeyItem[],\n  tagsToIgnore: string[] = ['INPUT', 'TEXTAREA', 'SELECT'],\n  triggerOnContentEditable = false\n) {\n  useEffect(() => {\n    const keydownListener = (event: KeyboardEvent) => {\n      hotkeys.forEach(([hotkey, handler, options = { preventDefault: true }]) => {\n        if (\n          getHotkeyMatcher(hotkey)(event) &&\n          shouldFireEvent(event, tagsToIgnore, triggerOnContentEditable)\n        ) {\n          if (options.preventDefault) {\n            event.preventDefault();\n          }\n\n          handler(event);\n        }\n      });\n    };\n\n    document.documentElement.addEventListener('keydown', keydownListener);\n    return () => document.documentElement.removeEventListener('keydown', keydownListener);\n  }, [hotkeys]);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"textButton\":\"TextButton_textButton__dEQDz\",\"textButtonDisabled\":\"TextButton_textButtonDisabled__ifj8x\"};","import { Anchor } from \"@mantine/core\";\nimport styles from './TextButton.module.css';\nimport clsx from \"clsx\";\n\nexport const TextButton = ({\n  disabled = false,\n  onClick,\n  children\n}: {\n  disabled?: boolean;\n  onClick?: () => void;\n  children: React.ReactNode;\n}) => {\n  return <Anchor\n    className={clsx(styles.textButton, disabled && styles.textButtonDisabled)}\n    pl=\"sm\"\n    onClick={disabled ? undefined : onClick}\n  >\n    {children}\n  </Anchor>;\n};\n","/**\n * Battle Log\n */\n\nexport type CharacterState = {\n  energy: number;\n  hp: number;\n  position: number;\n};\n\nexport type AttackKind = \"Quick\" | \"Precise\" | \"Heavy\";\n\nexport const spellnames = [\n  \"fireball\",\n  \"waterRestoration\",\n  \"earthCatapult\",\n  \"waterBurst\",\n  \"fireWall\",\n  \"fireHaste\",\n  \"earthSmites\",\n  \"earthSkin\",\n  \"chillingTouch\",\n] as const;\n\ntype Spell = (typeof spellnames)[number];\n\ntype Action = {\n  move?: {\n    position: number;\n  };\n  attack?: {\n    kind: AttackKind;\n    result: {\n      damage?: number;\n      miss?: any;\n    };\n  };\n  rest?: {\n    energy: number;\n  };\n  castSpell: {\n    result: {\n      [key in Spell]: key extends \"fireball\" | \"waterBurst\"\n        ? { damage: number }\n        : key extends \"waterRestoration\"\n        ? { heal: number }\n        : key extends \"earthCatapult\"\n        ? { damage: number; enemyPosition: number }\n        : {};\n    };\n  };\n  fireWall: {\n    damage: number;\n  };\n  notEnoughEnergy: {};\n  parry: {};\n  guardbreak: {};\n};\n\nexport type LogEntry = {\n  action: Action;\n  character: string;\n};\n\nexport type BattleStep = {\n  character1?: CharacterState | null;\n  character2?: CharacterState | null;\n  logs: LogEntry[];\n};\n","\nimport { Text } from \"@mantine/core\";\nimport { type BattleStep, type LogEntry, spellnames } from \"../types\";\n\nconst NBSP = '\\u00A0';\n\nexport function visualizeBattleLog(battleSteps: BattleStep[], characters: ({ name: string, id: string; })[]): React.ReactNode[][] {\n  const results: React.ReactNode[][] = [];\n\n  battleSteps.forEach((step, index) => {\n    const turnLogs: React.ReactNode[] = step.logs.map((log) => {\n      const index = characters.findIndex(char => char.id === log.character);\n      const charName = characters[index].name;\n\n      try {\n        const color = index === 0 ? 'coral' : 'cyan';\n        return getLogEntry(log, charName, color);\n      } catch (error) {\n        return <Text c=\"red\">Error while parsing log entry</Text>;\n      }\n    });\n\n    if (index === 0) {\n      results.push([\n        <Text component=\"span\">\n          Battle started\n        </Text >\n      ]);\n    }\n    else results.push(turnLogs);\n  });\n\n  return results;\n}\n\nconst Name = ({ charName, color }: { charName: string, color: string; }) => {\n  return <Text component=\"span\" color={color}>{charName}</Text>;\n};\n\nconst getLogEntry = (log: LogEntry, charName: string, color: string) => {\n\n  switch (true) {\n    case log.action.move != null:\n      return (\n        <Text component=\"span\">\n          <Name {...{ charName, color }} /> moves to position {log.action.move?.position}.\n        </Text>\n      );\n    case log.action.attack != null:\n      const { kind, result } = log.action.attack ?? { result: {} };\n      return (\n        <Text component=\"span\">\n          {\n            'damage' in result ? (\n              <><Name {...{ charName, color }} /> deals {result.damage} dmg using {kind?.toLowerCase()} attack</>\n            ) : null\n          }\n          {\n            'miss' in result ? (\n              <><Name {...{ charName, color }} /> misses trying to use {kind?.toLowerCase()} attack.</>\n            ) : null\n          }\n        </Text>\n      );\n    case log.action.rest != null:\n      return (\n        <Text component=\"span\">\n          <Name {...{ charName, color }} /> rests, gaining {log.action.rest?.energy} energy.\n        </Text>\n      );\n    case log.action.castSpell != null:\n      const spell = spellnames.find(spell => spell in log.action.castSpell?.result);\n      if (!spell) return <Text component=\"span\">Unknown spell</Text>;\n      const details = log.action.castSpell?.result[spell] ?? {};\n\n      return (\n        <Text component=\"span\">\n          <Name {...{ charName, color }} /> casts {spell}.\n          {'heal' in details ? ` ${details.heal}${NBSP}HP healed` : null}\n          {'damage' in details ? ` ${details.damage}${NBSP}damage dealt.` : null}\n          {'enemyPosition' in details ? ` Enemy thrown to position${NBSP}${details.enemyPosition}.` : null}\n        </Text>\n      );\n    case log.action.fireWall != null:\n      return (\n        <Text component=\"span\">\n          <Name {...{ charName, color }} /> gets {log.action.fireWall.damage} damage from firewall.\n        </Text>\n      );\n    case log.action.notEnoughEnergy != null:\n      return (\n        <Text component=\"span\">\n          <Name {...{ charName, color }} /> doesn't have enough energy.\n        </Text>\n      );\n    case log.action.parry != null:\n      return (\n        <Text component=\"span\">\n          <Name {...{ charName, color }} /> parries the attack.\n        </Text>\n      );\n    case log.action.guardbreak != null:\n      return (\n        <Text component=\"span\">\n          <Name {...{ charName, color }} /> guardbreaks the attack.\n        </Text>\n      );\n    default: {\n      return <Text component=\"span\">Unknown action</Text>;\n    }\n  }\n};\n","import { Stack } from \"@mantine/core\";\nimport { CharInfo } from \"pages/@shared/CharInfo\";\nimport { CharStats } from \"pages/@shared/CharStats/CharStats\";\nimport { StatBar } from \"pages/@shared/StatBar\";\nimport { useRef } from \"react\";\nimport { getXpNeededForLvlUp } from \"utils\";\nimport { CharacterState } from \"../types\";\n\nexport const CharPanel = ({\n  character,\n  charState,\n  initialCharState,\n}: {\n  character: any;\n  charState?: CharacterState;\n  initialCharState?: CharacterState;\n}) => {\n\n  const health = Math.ceil(charState?.hp ?? 0);\n  const healthMax = initialCharState?.hp ?? 0;\n  const energy = Math.ceil(charState?.energy ?? 0);\n  const energyMax = initialCharState?.energy ?? 0;\n\n  /**\n   *  This is done to force rerender the component when the health/energy is full\n   */\n  const keyRef = useRef(Math.random());\n  if (health === healthMax && energy === energyMax) keyRef.current = Math.random();\n\n  return (\n    <Stack gap={0} >\n      <StatBar\n        /**\n         * Key is here to force rerender (see above)\n         */\n        key={keyRef.current}\n        health={health}\n        healthMax={healthMax}\n        energy={energy}\n        energyMax={energyMax}\n      />\n\n      <CharInfo\n        mt=\"lg\"\n\n        isMyCharacter={true}\n        name={character.name}\n        idStr={`#${character.id}`}\n        //\n        exp={character.experience}\n        maxExp={getXpNeededForLvlUp(character.level)}\n        level={character.level}\n      />\n\n      <CharStats\n        style={{\n          justifySelf: 'end'\n        }}\n        character={character}\n      />\n\n    </Stack>\n  );\n};\n\n","import styles from './BattleResult.module.css';\n//\nimport clsx from \"clsx\";\nimport { Box, Flex, Text, Tooltip } from \"@mantine/core\";\nimport { Panel } from 'components/Panel';\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useBattleLogById } from \"app/api/battleLogs\";\nimport { BattleBackgroundWrapper } from \"./components/BackgroundWrapper\";\nimport { BattleResultNotFound } from \"./components/BattleResultNotFound\";\nimport { BlackButton } from \"./components/BlackButton\";\nimport { useHotkeys } from '@mantine/hooks';\nimport { TextButton } from './components/TextButton';\nimport { visualizeBattleLog } from './components/visualizeBattleLog';\nimport { CharPanel } from './components/CharPanel';\n\nexport const BattleResultPage = () => {\n  const { battleId } = useParams<{ battleId: string; }>();\n\n  if (battleId == null) {\n    return (\n      <BattleBackgroundWrapper>\n        <BattleResultNotFound />\n      </BattleBackgroundWrapper>\n    );\n  }\n\n  return (\n    <BattleBackgroundWrapper>\n      <BattleResultData battleId={battleId}>\n\n        {(battleLog) => (\n          <BattleResult battleId={battleId} withPlayButton battleLog={battleLog} />\n        )}\n      </BattleResultData>\n    </BattleBackgroundWrapper>\n  );\n};\n\n\n/**\n * This is done to keep query logic in the component that is not unmounted on battle change\n * whereas the BattleResult component is unmounted and mounted again when clicking \"Next battle\" / \"Prev battle\"\n * \n * Therefore the previous data is preserved and the UI doesn't flicker.\n */\nexport const BattleResultData = ({\n  battleId,\n  children,\n}: {\n  battleId: string;\n  withPlayButton?: boolean;\n  children: (data: ReturnType<typeof useBattleLogById>['data']) => JSX.Element;\n}) => {\n  const { data: battleLog } = useBattleLogById({ battleId });\n\n  return children(battleLog);\n};\n\n/**\n * Battle Result\n */\n\nconst SIDE_PANEL_WIDTH = 375;\nconst MID_PANEL_WIDTH = 420;\n\nexport const BattleResult = ({\n  battleId,\n  setPlayButton,\n  withPlayButton = false,\n  battleLog\n}: {\n  battleLog: ReturnType<typeof useBattleLogById>['data'];\n  battleId: string;\n  setPlayButton?: (button: React.ReactNode) => void;\n  withPlayButton?: boolean;\n}) => {\n\n  const isSuccess = battleLog != null;\n\n  /**\n   * Characters\n   */\n  const char1id = battleLog?.character1.character;\n  const char2id = battleLog?.character2.character;\n\n  const char1 = battleLog?.lobby.characters.find(char => char.character.id === char1id)?.character;\n  const char2 = battleLog?.lobby.characters.find(char => char.character.id === char2id)?.character;\n  const characters = [char1, char2];\n\n  /**\n  * List items refs\n  * ( used for scrolling to them )\n  */\n  const itemRefs = useRef<HTMLElement[]>([]);\n\n  /**\n   * Turns\n   */\n  const [currentTurnIndex, setCurrentTurnIndexRaw] = useState(0);\n  const { turns } = battleLog ?? {};\n  const firstTurn = turns?.[0];\n  const currentTurn = turns?.[currentTurnIndex];\n  const lastTurnIndex = (turns?.length ?? 0) - 1;\n  const [canGoBack, canGoNext] = [currentTurnIndex > 0, currentTurnIndex < lastTurnIndex];\n\n  useHotkeys([\n    ['ArrowUp', () => canGoBack && setCurrentTurnIndex(currentTurnIndex - 1)],\n    ['ArrowLeft', () => canGoBack && setCurrentTurnIndex(currentTurnIndex - 1)],\n    ['ArrowDown', () => canGoNext && setCurrentTurnIndex(currentTurnIndex + 1)],\n    ['ArrowRight', () => canGoNext && setCurrentTurnIndex(currentTurnIndex + 1)],\n    ['Space', () => playButtonRef.current?.click()]\n  ]);\n\n  const setCurrentTurnIndex = useCallback((newStateOfFunction: number | ((prev: number) => number)) => {\n\n    return setCurrentTurnIndexRaw(\n      prevState => {\n        let newIdx = typeof newStateOfFunction === 'function' ? newStateOfFunction(prevState) : newStateOfFunction;\n\n        if (newIdx % 7 !== 0 && (newIdx !== lastTurnIndex || newIdx !== 0)) {\n          // do nothing\n        }\n        else if (newIdx >= 0 && itemRefs.current?.[newIdx]) {\n          const weAreScrollingBack = newIdx < prevState;\n          // scroll only to every 3rd or to the last\n\n          const idxToScrollTo = weAreScrollingBack\n            ? Math.max(newIdx - 10, 0)\n            : Math.min(newIdx + 10, lastTurnIndex);\n\n\n          itemRefs.current[idxToScrollTo]?.scrollIntoView({\n            behavior: 'smooth',\n            block: 'nearest'\n          });\n        }\n\n        return newIdx;\n      }\n    );\n  }, [lastTurnIndex]);\n\n  /**\n   * Playback\n   */\n  const [isPlaying, setIsPlaying] = useState(false);\n  useEffect(() => {\n\n    if (isPlaying) {\n      const interval = setInterval(() => {\n        setCurrentTurnIndex((prev) => {\n          if (prev < lastTurnIndex) {\n            return prev + 1;\n          } else {\n            setIsPlaying(false);\n            return prev;\n          }\n        });\n      }, 100);\n      return () => clearInterval(interval);\n    }\n\n  }, [isPlaying, lastTurnIndex, setCurrentTurnIndex]);\n\n\n  React.useEffect(() => {\n    // stop playing when unmounting\n    return () => setIsPlaying(false);\n  }, []);\n\n  /**\n   * Visualize battle log\n   */\n  const logVisualized = visualizeBattleLog(turns ?? [], characters.filter(Boolean));\n\n  /**\n   *  Play Button functionality\n   */\n  const playButtonRef = useRef<React.ElementRef<'button'>>(null);\n\n  const playButton = React.useMemo(() => {\n    const playButton = <BlackButton\n      w=\"95px\"\n      buttonRef={playButtonRef}\n      onClick={() => {\n        if (currentTurnIndex === lastTurnIndex) {\n          setCurrentTurnIndex(0);\n          itemRefs.current?.[0].scrollIntoView({\n            behavior: 'auto',\n            block: 'nearest'\n          });\n        }\n        setIsPlaying(!isPlaying);\n      }}\n      rightSection={\n        isPlaying ? (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"9\" height=\"14\" viewBox=\"0 0 9 14\" fill=\"none\">\n            <path d=\"M9 1.5C9 0.671573 8.32843 0 7.5 0V0C6.67157 0 6 0.671573 6 1.5V12.5C6 13.3284 6.67157 14 7.5 14V14C8.32843 14 9 13.3284 9 12.5V1.5Z\" fill=\"white\" />\n            <path d=\"M3 1.5C3 0.671573 2.32843 0 1.5 0V0C0.671573 0 0 0.671573 0 1.5V12.5C0 13.3284 0.671573 14 1.5 14V14C2.32843 14 3 13.3284 3 12.5V1.5Z\" fill=\"white\" />\n          </svg>\n        ) : (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width={12} height={12} viewBox=\"0 0 13 14\" fill=\"none\">\n            <path d=\"M11.8684 8.13702C12.7105 7.63168 12.7105 6.36832 11.8684 5.86298L2.39474 0.177857C1.55263 -0.327487 0.5 0.304193 0.5 1.31488L0.499999 12.6851C0.499999 13.6958 1.55263 14.3275 2.39474 13.8221L11.8684 8.13702Z\" fill=\"white\" />\n          </svg>\n        )\n      }\n    >\n      {isPlaying ? 'Pause' : 'Play'}\n    </BlackButton >;\n\n    setPlayButton?.(playButton);\n    return playButton;\n  }, [currentTurnIndex, isPlaying, lastTurnIndex, setCurrentTurnIndex, setPlayButton]);\n\n  /**\n   * Fallback\n   */\n  if (isSuccess && battleLog === null) {\n    return <BattleResultNotFound />;\n  }\n\n  /**\n   * Render\n   */\n  return (\n    <>\n      {withPlayButton ? <Box mb=\"md\">\n        {playButton}\n      </Box> : null}\n\n      <Flex gap='md'>\n        <Panel w={SIDE_PANEL_WIDTH} >\n          {currentTurn\n            ? (\n              <CharPanel\n                character={char1}\n                charState={currentTurn?.character1 ?? undefined}\n                initialCharState={firstTurn?.character1 ?? undefined}\n              />\n            ) : null}\n        </Panel>\n\n        <Panel\n          w={MID_PANEL_WIDTH}\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n          }}\n          pl=\"1rem\"\n          mah=\"75vh\"\n        >\n\n          <Box pl=\"2rem\">\n            <p>{`Battle ID: ${battleId}`}</p>\n            <Box component=\"p\" mb=\"sm\">\n              <Text component='span' display=\"inline-block\" w=\"125px\">Current turn: {currentTurnIndex}</Text>\n              <TextButton disabled={!canGoBack} onClick={() => setCurrentTurnIndex(currentTurnIndex - 1)}>Prev</TextButton>\n              <TextButton disabled={!canGoNext} onClick={() => setCurrentTurnIndex(currentTurnIndex + 1)}>Next</TextButton>\n\n              <Tooltip label={(\n                <Text size=\"13px\">\n                  You can user keyboard arrows <br />to navigate through the log\n                </Text>\n              )}>\n                <Box component='span' ml=\"md\">\n                  <svg\n                    width=\"30\"\n                    height=\"20\"\n                    style={{ transform: 'translateY(2px)' }}\n                    viewBox=\"0 0 96 64\"\n                    fill=\"rgb(210, 210, 210)\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path d=\"M82.6 42.8984C82.1 42.3984 81.2 42.3984 80.7 42.8984C80.2 43.3984 80.2 44.2984 80.7 44.7984L82.9 46.9984H73.8C73.1 46.9984 72.5 47.5984 72.5 48.2984C72.5 48.9984 73.1 49.5984 73.8 49.5984H82.9L80.7 51.7984C80.2 52.2984 80.2 53.1984 80.7 53.6984C81 53.9984 81.3 54.0984 81.6 54.0984C81.9 54.0984 82.3 53.9984 82.5 53.6984L86.9 49.2984C87.4 48.7984 87.4 47.8984 86.9 47.3984L82.6 42.8984Z\" />\n                    <path d=\"M87.7004 33.1992H72.2004C68.2004 33.1992 64.9004 36.4992 64.9004 40.4992V55.9992C64.9004 59.9992 68.2004 63.2992 72.2004 63.2992H87.8004C91.8004 63.2992 95.1004 59.9992 95.1004 55.9992V40.4992C95.0004 36.4992 91.7004 33.1992 87.7004 33.1992ZM92.3004 55.9992C92.3004 58.4992 90.2004 60.5992 87.7004 60.5992H72.2004C69.7004 60.5992 67.6004 58.4992 67.6004 55.9992V40.4992C67.6004 37.9992 69.7004 35.8992 72.2004 35.8992H87.8004C90.3004 35.8992 92.4004 37.9992 92.4004 40.4992V55.9992H92.3004Z\" />\n                    <path d=\"M51.0002 48.9988L48.8002 51.1988V42.0988C48.8002 41.3988 48.2002 40.7988 47.5002 40.7988C46.8002 40.7988 46.2002 41.3988 46.2002 42.0988V51.1988L44.0002 48.9988C43.5002 48.4988 42.6002 48.4988 42.1002 48.9988C41.8002 49.2988 41.7002 49.5988 41.7002 49.8988C41.7002 50.1988 41.8002 50.5988 42.1002 50.7988L46.5002 55.1988C47.0002 55.6988 47.9002 55.6988 48.4002 55.1988L52.8002 50.7988C53.3002 50.2988 53.3002 49.3988 52.8002 48.8988C52.4002 48.4988 51.5002 48.4988 51.0002 48.9988Z\" />\n                    <path d=\"M55.3004 33.1992H39.7004C35.7004 33.1992 32.4004 36.4992 32.4004 40.4992V55.9992C32.4004 59.9992 35.7004 63.2992 39.7004 63.2992H55.3004C59.3004 63.2992 62.6004 59.9992 62.6004 55.9992V40.4992C62.5004 36.4992 59.3004 33.1992 55.3004 33.1992ZM59.9004 55.9992C59.9004 58.4992 57.8004 60.5992 55.3004 60.5992H39.7004C37.2004 60.5992 35.1004 58.4992 35.1004 55.9992V40.4992C35.1004 37.9992 37.2004 35.8992 39.7004 35.8992H55.3004C57.8004 35.8992 59.9004 37.9992 59.9004 40.4992V55.9992Z\" />\n                    <path d=\"M48.3996 8.69922C47.8996 8.19922 46.9996 8.19922 46.4996 8.69922L42.0996 13.0992C41.5996 13.5992 41.5996 14.4992 42.0996 14.9992C42.5996 15.4992 43.4996 15.4992 43.9996 14.9992L46.1996 12.7992V21.8992C46.1996 22.5992 46.7996 23.1992 47.4996 23.1992C48.1996 23.1992 48.7996 22.5992 48.7996 21.8992V12.7992L50.9996 14.9992C51.4996 15.4992 52.3996 15.4992 52.8996 14.9992C53.1996 14.6992 53.2996 14.3992 53.2996 14.0992C53.2996 13.7992 53.1996 13.3992 52.8996 13.1992L48.3996 8.69922Z\" />\n                    <path d=\"M55.3004 0.699219H39.7004C35.7004 0.699219 32.4004 3.99922 32.4004 7.99922V23.5992C32.4004 27.5992 35.7004 30.8992 39.7004 30.8992H55.3004C59.3004 30.8992 62.6004 27.5992 62.6004 23.5992V7.99922C62.5004 3.99922 59.3004 0.699219 55.3004 0.699219ZM59.9004 23.4992C59.9004 25.9992 57.8004 28.0992 55.3004 28.0992H39.7004C37.2004 28.0992 35.1004 25.9992 35.1004 23.4992V7.99922C35.1004 5.49922 37.2004 3.39922 39.7004 3.39922H55.3004C57.8004 3.39922 59.9004 5.49922 59.9004 7.99922V23.4992Z\" />\n                    <path d=\"M21.1996 46.8984H12.0996L14.2996 44.6984C14.7996 44.1984 14.7996 43.2984 14.2996 42.7984C13.9996 42.4984 13.6996 42.3984 13.3996 42.3984C13.0996 42.3984 12.6996 42.4984 12.4996 42.7984L8.09961 47.1984C7.59961 47.6984 7.59961 48.5984 8.09961 49.0984L12.4996 53.4984C12.9996 53.9984 13.8996 53.9984 14.3996 53.4984C14.8996 52.9984 14.8996 52.0984 14.3996 51.5984L12.1996 49.3984H21.2996C21.9996 49.3984 22.5996 48.7984 22.5996 48.0984C22.5996 47.3984 21.8996 46.8984 21.1996 46.8984Z\" />\n                    <path d=\"M22.8 33.1992H7.3C3.3 33.1992 0 36.4992 0 40.4992V55.9992C0 59.9992 3.3 63.2992 7.3 63.2992H22.9C26.9 63.2992 30.2 59.9992 30.2 55.9992V40.4992C30.1 36.4992 26.8 33.1992 22.8 33.1992ZM27.4 55.9992C27.4 58.4992 25.3 60.5992 22.8 60.5992H7.3C4.8 60.5992 2.7 58.4992 2.7 55.9992V40.4992C2.7 37.9992 4.8 35.8992 7.3 35.8992H22.9C25.4 35.8992 27.5 37.9992 27.5 40.4992V55.9992H27.4Z\" />\n                  </svg>\n                </Box>\n              </Tooltip>\n\n            </Box>\n          </Box>\n\n          <Box component=\"ol\"\n            pl='xl'\n            start={0}\n            style={{\n              overflowY: 'scroll',\n            }}\n          >\n            {logVisualized.map((turnLogs, i) => {\n\n              const isInactive = currentTurnIndex < i;\n\n              return (\n                <Box\n                  ref={(ref) => {\n                    itemRefs.current[i] = ref as HTMLElement;\n                  }}\n                  onClick={() => setCurrentTurnIndex(i)}\n                  component=\"li\"\n                  key={i}\n                  className={clsx(styles.element, isInactive ? styles.inactive : null)}\n                >\n                  <Box component=\"span\" {...isInactive ? { style: theme => ({ opacity: '0.4' }) } : {}}>\n                    {turnLogs.map((line, i) => <p key={i}>{line}</p>)}\n                  </Box>\n                </Box>\n              );\n            })}\n          </Box>\n        </Panel>\n\n\n\n        <Panel w={SIDE_PANEL_WIDTH} >\n          {currentTurn\n            ? (\n              <CharPanel\n                character={char2}\n                charState={currentTurn?.character2 ?? undefined}\n                initialCharState={firstTurn?.character2 ?? undefined}\n              />\n            ) : null}\n        </Panel>\n      </Flex>\n    </>\n  );\n};\n","import React from \"react\";\nimport { Flex } from \"@mantine/core\";\nimport { useParams } from \"react-router-dom\";\nimport { BattleBackgroundWrapper } from \"./components/BackgroundWrapper\";\nimport { BattleResultNotFound } from \"./components/BattleResultNotFound\";\nimport { useBattleLogsByLobbyId } from \"app/api/battleLogs\";\nimport { BattleResult, BattleResultData } from \"./BattleResult\";\nimport { BlackButton } from \"./components/BlackButton\";\nimport { useBattleIndex } from \"./components/useBattleIndex/useBattleIndex\";\n\nexport const TournamentResultPage = () => {\n  const { lobbyId } = useParams<{ lobbyId: string; }>();\n\n  if (!lobbyId) {\n    return <BattleBackgroundWrapper>\n      <BattleResultNotFound />\n    </BattleBackgroundWrapper>;\n  }\n\n  return <TournamentResultPageContent {...{ lobbyId }} />;\n};\n\nexport const TournamentResultPageContent = ({\n  lobbyId,\n}: {\n  lobbyId: string;\n}) => {\n  const [PlayButton, setPlayButton] = React.useState<React.ReactNode | null>(null);\n\n  const { data: battleLogs } = useBattleLogsByLobbyId({ lobbyId });\n\n  const [curIdx, setCurIdx] = useBattleIndex();\n\n  const maxIdx = (battleLogs?.length ?? 0) - 1;\n  const curBattleId = battleLogs?.[curIdx]?.id;\n  const isMultipleBattles = maxIdx > 0;\n\n  if (!curBattleId) {\n    return <BattleBackgroundWrapper>\n      <BattleResultNotFound />\n    </BattleBackgroundWrapper>;\n  }\n\n  return (\n    <BattleBackgroundWrapper>\n      <Flex gap=\"sm\" my=\"md\" >\n        {isMultipleBattles ? <BlackButton\n          onClick={() => setCurIdx(prev => Math.max(0, prev - 1))}\n          size=\"sm\"\n          disabled={curIdx === 0}\n          leftSection={\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"14\" viewBox=\"0 0 15 14\" fill=\"none\">\n              <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M1.5 0C0.671573 0 0 0.671573 0 1.5V12.5C0 13.3284 0.671573 14 1.5 14C2.32843 14 3 13.3284 3 12.5V7.00065C3.00021 7.44261 3.21073 7.88448 3.63158 8.13702L13.1053 13.8221C13.9474 14.3275 15 13.6958 15 12.6851L15 1.31488C15 0.304194 13.9474 -0.327487 13.1053 0.177857L3.63158 5.86298C3.21073 6.11553 3.00021 6.55739 3 6.99935V1.5C3 0.671573 2.32843 0 1.5 0Z\"\n                fill=\"currentColor\" />\n            </svg>\n          }\n        >\n          Previous battle\n        </BlackButton> : null}\n\n        {PlayButton}\n\n        {isMultipleBattles ? <BlackButton\n          onClick={() => setCurIdx(prev => Math.min(maxIdx, prev + 1))}\n          size=\"sm\"\n          disabled={curIdx === maxIdx}\n          rightSection={\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"14\" viewBox=\"0 0 15 14\" fill=\"none\">\n              <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M13.5 0C14.3284 0 15 0.671573 15 1.5V12.5C15 13.3284 14.3284 14 13.5 14C12.6716 14 12 13.3284 12 12.5V7.00065C11.9998 7.44261 11.7893 7.88448 11.3684 8.13702L1.89474 13.8221C1.05263 14.3275 -9.53674e-07 13.6958 -9.53674e-07 12.6851L0 1.31488C0 0.304194 1.05263 -0.327487 1.89474 0.177857L11.3684 5.86298C11.7893 6.11553 11.9998 6.55739 12 6.99935V1.5C12 0.671573 12.6716 0 13.5 0Z\"\n                fill=\"currentColor\" />\n            </svg>\n          }\n        >\n          Next battle\n        </BlackButton> : null}\n      </Flex>\n\n\n      {curBattleId ? (\n        <BattleResultData battleId={curBattleId}>\n          {(battleLog) => (\n            <BattleResult battleLog={battleLog} key={curBattleId} battleId={curBattleId} setPlayButton={setPlayButton} />\n          )}\n        </BattleResultData>) : null}\n    </BattleBackgroundWrapper>\n  );\n\n};\n\n","import { routes } from \"app/routes\";\nimport { useCallback } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nexport const useBattleIndex = () => {\n  const navigate = useNavigate();\n  const { lobbyId, battleId } = useParams<{\n    battleId?: string;\n    lobbyId: string;\n  }>();\n\n  const curIdx = parseInt(battleId ?? \"\") || 0;\n\n  const setCurIdx = useCallback(\n    (idx: number | ((prev: number) => number)) => {\n      if (typeof idx === \"function\") {\n        const prev = parseInt(battleId ?? \"0\");\n        idx = idx(prev);\n      }\n\n      if (!lobbyId) {\n        console.error(\"lobbyId is not defined\");\n      } else {\n        navigate(routes.tournamentResult({ lobbyId, battleId: `${idx}` }));\n      }\n    },\n    [battleId, lobbyId, navigate]\n  );\n\n  return [curIdx, setCurIdx] as const;\n};\n","import { BackgroundImage } from \"@mantine/core\";\nimport BattleBackground from 'assets/images/battle.webp';\n\nexport const BattleBackgroundWrapper = ({ children }: { children: React.ReactNode; }) => {\n  return (\n    <BackgroundImage src={BattleBackground} style={{\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'start',\n\n      paddingBlock: '2rem'\n    }}>\n      {children}\n    </BackgroundImage>\n  );\n};\n","import { Stack } from \"@mantine/core\";\nimport { routes } from \"app/routes\";\nimport { Panel } from \"components/Panel\";\nimport { TheButton } from \"components/TheButton\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport const BattleResultNotFound = () => {\n  const navigate = useNavigate();\n  return (\n    <Panel my=\"auto\">\n      <Stack>\n        Battle ID not provided\n\n        <TheButton onClick={() => navigate(routes.arena)} >\n          Go to arena\n        </TheButton>\n      </Stack>\n    </Panel >\n  );\n};\n"],"names":["allbattleLogsQueryDocument","graphql","useAllBattleLogs","useGraphQL","undefined","select","data","battleLogs","battleLogByIdQueryDocument","useBattleLogById","_ref","battleId","enabled","battleLogById","placeholderData","previousData","battleLogsByLobbyIdQueryDocument","useBattleLogsByLobbyId","_ref2","lobbyId","getCharacterFromBattleLogById","battleLog","characterId","_battleLog$lobby$char","lobby","characters","find","_ref3","character","id","getHotkeyMatcher","hotkey","event","alt","ctrl","meta","mod","shift","key","altKey","ctrlKey","metaKey","shiftKey","pressedKey","toLowerCase","code","replace","isExactHotkey","keys","split","map","part","trim","modifiers","includes","reservedKeys","parseHotkey","useHotkeys","hotkeys","tagsToIgnore","arguments","length","triggerOnContentEditable","useEffect","keydownListener","forEach","handler","options","preventDefault","target","HTMLElement","isContentEditable","tagName","shouldFireEvent","document","documentElement","addEventListener","removeEventListener","TextButton","disabled","onClick","children","_jsx","Anchor","className","clsx","styles","pl","spellnames","Name","charName","color","Text","component","getLogEntry","log","_log$action$move","_log$action$attack","_log$action$rest","_log$action$castSpell2","_log$action$castSpell3","action","move","_jsxs","position","attack","kind","result","_Fragment","damage","rest","energy","castSpell","spell","_log$action$castSpell","details","heal","enemyPosition","fireWall","notEnoughEnergy","parry","guardbreak","CharPanel","_charState$hp","_initialCharState$hp","_charState$energy","_initialCharState$ene","charState","initialCharState","health","Math","ceil","hp","healthMax","energyMax","keyRef","useRef","random","current","Stack","gap","StatBar","CharInfo","mt","isMyCharacter","name","idStr","exp","experience","maxExp","getXpNeededForLvlUp","level","CharStats","style","justifySelf","BattleResultPage","useParams","BattleBackgroundWrapper","BattleResultNotFound","BattleResultData","BattleResult","withPlayButton","_battleLog$lobby$char2","_turns$length","_currentTurn$characte","_firstTurn$character","_currentTurn$characte2","_firstTurn$character2","setPlayButton","isSuccess","char1id","character1","char2id","character2","char1","char","char2","itemRefs","currentTurnIndex","setCurrentTurnIndexRaw","useState","turns","firstTurn","currentTurn","lastTurnIndex","canGoBack","canGoNext","setCurrentTurnIndex","_playButtonRef$curren","playButtonRef","click","useCallback","newStateOfFunction","prevState","_itemRefs$current","newIdx","_itemRefs$current$idx","idxToScrollTo","max","min","scrollIntoView","behavior","block","isPlaying","setIsPlaying","interval","setInterval","prev","clearInterval","React","logVisualized","battleSteps","results","step","index","turnLogs","logs","findIndex","error","c","push","visualizeBattleLog","filter","Boolean","playButton","BlackButton","w","buttonRef","_itemRefs$current2","rightSection","xmlns","width","height","viewBox","fill","d","Box","mb","Flex","Panel","display","flexDirection","mah","Tooltip","label","size","ml","transform","start","overflowY","i","isInactive","ref","element","inactive","theme","opacity","line","TournamentResultPage","TournamentResultPageContent","_battleLogs$length","_battleLogs$curIdx","PlayButton","curIdx","setCurIdx","useBattleIndex","navigate","useNavigate","parseInt","idx","routes","tournamentResult","console","maxIdx","curBattleId","isMultipleBattles","my","leftSection","fillRule","clipRule","BackgroundImage","src","BattleBackground","alignItems","justifyContent","paddingBlock","TheButton","arena"],"sourceRoot":""}