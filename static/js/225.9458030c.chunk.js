"use strict";(self.webpackChunkdapp=self.webpackChunkdapp||[]).push([[225],{8311:(e,a,t)=>{t.d(a,{AX:()=>d,C7:()=>c,iV:()=>s});var r=t(3675),n=t(6070),l=t(3051),o=t(9664);(0,n.B)("\n  query AllCharacters {\n    characters {\n      id\n      level\n      name\n      owner\n      experience\n      attributes\n    }\n  }\n");const i=(0,n.B)("\n  query CharactersByOwner($owner_eq: String!) {\n    characters(where: { owner_eq: $owner_eq }) {\n      id\n      level\n      name\n      owner\n      experience\n      attributes\n    }\n  }\n"),s=()=>{const e=(0,l.P)(i);o.E.invalidateQueries({queryKey:[e]})},d=e=>{let{owner_eq:a}=e;return(0,l.a)(i,{owner_eq:a})},c=()=>{var e;const{account:a}=(0,r.mA)(),t=d({owner_eq:null!==(e=null===a||void 0===a?void 0:a.decodedAddress)&&void 0!==e?e:""}),n=t.data;return{...t,data:null===n||void 0===n?void 0:n.characters[(null===n||void 0===n?void 0:n.characters.length)-1]}};(0,n.B)("\n  query CharacterById($character_id: String!) {\n    characterById(id: $character_id) {\n      attributes\n      experience\n      id\n      level\n      name\n      owner\n    }\n  }\n")},6880:(e,a,t)=>{t.d(a,{OY:()=>d,M:()=>c,OV:()=>m});var r=t(9702),n=t(6299),l=t(1313),o=t(5863),i=t(3675);var s=t(8311);const d=(0,o.r)({use:[e=>a=>{const{api:t}=(0,i.h_)();return e({...a,meta:{...a.meta,api:t}})}],queryKey:["mintProgramState"],fetcher:async(e,a)=>{var t;let{programId:n,metadata:l}=e;const o=r.Pj.from(l),i=null===(t=a.meta)||void 0===t?void 0:t.api,s=await(null===i||void 0===i?void 0:i.programState.read({programId:n,payload:void 0},o));return null===s||void 0===s?void 0:s.toJSON()}}),c=()=>{const e=(0,l.i)();return d({variables:{metadata:n.cV,programId:n.ZB},select:a=>{var t,r;return null!==(t=null===(r=a.characters)||void 0===r?void 0:r[null!==e&&void 0!==e?e:""])&&void 0!==t?t:null}})},m=()=>{var e;const a=null!==(e=(0,l.i)())&&void 0!==e?e:"",{data:t}=(0,s.AX)({owner_eq:a}),{data:r}=c();return{isDead:0!==(null===t||void 0===t?void 0:t.characters.length)&&!r,isFresh:0===(null===t||void 0===t?void 0:t.characters.length)}}},1313:(e,a,t)=>{t.d(a,{i:()=>n});var r=t(3675);const n=()=>{const{account:e}=(0,r.mA)();return null===e||void 0===e?void 0:e.decodedAddress}},7225:(e,a,t)=>{t.r(a),t.d(a,{Leaderboard:()=>c});var r=t(2791),n=t(6880),l=t(6299),o=t(905),i=t(2765),s=t(5850),d=t(184);const c=()=>{const{data:e}=(0,n.OY)({variables:{metadata:l.cV,programId:l.ZB}}),{characters:a}=null!==e&&void 0!==e?e:{characters:{}},t=(0,r.useMemo)((()=>Object.entries(a).sort(((e,a)=>{let[,t]=e,[,r]=a;return-1*(t.attributes.tierRating-r.attributes.tierRating)}))),[a]).map((e=>{let[a,t]=e;return{name:t.name,level:t.level,exp:t.experience,ownerId:a,rating:t.attributes.tierRating}}));return(0,d.jsx)("div",{className:"leaderboard",children:(0,d.jsxs)("div",{className:"modal_leaderboard",children:[(0,d.jsx)("div",{className:"header",children:"Leaderboard"}),(0,d.jsx)("div",{className:"scroll_container",children:(0,d.jsx)("div",{className:"modal_table",children:(0,d.jsxs)(o.i,{horizontalSpacing:"md",verticalSpacing:"md",children:[(0,d.jsx)(o.i.Thead,{children:(0,d.jsx)(o.i.Tr,{children:["Rating","Name","Level","Owner ID"].map(((e,a)=>(0,d.jsx)(o.i.Th,{w:m[a],ta:h[a],children:e},e)))})}),(0,d.jsx)(o.i.Tbody,{children:t.map((e=>(0,d.jsx)(o.i.Tr,{className:"table_row",children:[(0,d.jsx)("div",{className:"badge",children:e.rating}),(0,d.jsxs)(i.x,{size:"md",children:[" ",e.name]}),(0,d.jsx)("div",{className:"badge",children:e.level}),(0,d.jsx)("div",{children:(0,s.f5)(e.ownerId)})].map(((e,a)=>(0,d.jsx)(o.i.Td,{w:m[a],ta:h[a],children:e},a)))})))})]})})})]})})},m={0:"50px",1:"160px",2:"100px"},h={1:"left",2:"center"}},905:(e,a,t)=>{t.d(a,{i:()=>_});var r=t(2791),n=t(2020),l=t(5146),o=t(5838),i=t(3768),s=t(6519),d=t(204),c=t(245),m=t(8592),h=t(4799);const[v,p]=(0,h.R)("Table component was not found in the tree");var u={table:"m-b23fa0ef",th:"m-4e7aa4f3",tr:"m-4e7aa4fd",td:"m-4e7aa4ef",tbody:"m-b2404537",thead:"m-b242d975",caption:"m-9e5a3ac7",scrollContainer:"m-a100c15",scrollContainerInner:"m-62259741"};function y(e,a){if(!a)return;const t={};return a.columnBorder&&e.withColumnBorders&&(t["data-with-column-border"]=!0),a.rowBorder&&e.withRowBorders&&(t["data-with-row-border"]=!0),a.striped&&e.striped&&(t["data-striped"]=e.striped),a.highlightOnHover&&e.highlightOnHover&&(t["data-hover"]=!0),a.captionSide&&e.captionSide&&(t["data-side"]=e.captionSide),a.stickyHeader&&e.stickyHeader&&(t["data-sticky"]=!0),t}function b(e,a){const t=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,n=(0,m.d)(((n,l)=>{const o=(0,s.w)(t,{},n),{classNames:i,className:d,style:m,styles:h,...v}=o,u=p();return r.createElement(c.x,{component:e,ref:l,...y(u,a),...u.getStyles(e,{className:d,classNames:i,style:m,styles:h,props:o}),...v})}));return n.displayName=`@mantine/core/${t}`,n.classes=u,n}const g=b("th",{columnBorder:!0}),w=b("td",{columnBorder:!0}),x=b("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),f=b("thead",{stickyHeader:!0}),N=b("tbody"),S=b("tfoot"),C=b("caption",{captionSide:!0});function T(e){let{data:a}=e;return r.createElement(r.Fragment,null,a.caption&&r.createElement(C,null,a.caption),a.head&&r.createElement(f,null,r.createElement(x,null,a.head.map(((e,a)=>r.createElement(g,{key:a},e))))),a.body&&r.createElement(N,null,a.body.map(((e,a)=>r.createElement(x,{key:a},e.map(((e,a)=>r.createElement(w,{key:a},e))))))),a.foot&&r.createElement(S,null,r.createElement(x,null,a.foot.map(((e,a)=>r.createElement(g,{key:a},e))))))}T.displayName="@mantine/core/TableDataRenderer";var B=t(1619);const E={type:"scrollarea"},j=(0,o.Z)(((e,a)=>{let{minWidth:t,type:r}=a;return{scrollContainer:{"--table-min-width":(0,n.h)(t),"--table-overflow":"native"===r?"auto":void 0}}})),k=(0,m.d)(((e,a)=>{const t=(0,s.w)("TableScrollContainer",E,e),{classNames:n,className:l,style:o,styles:i,unstyled:m,vars:h,children:v,minWidth:p,type:y,...b}=t,g=(0,d.y)({name:"TableScrollContainer",classes:u,props:t,className:l,style:o,classNames:n,styles:i,unstyled:m,vars:h,varsResolver:j,rootSelector:"scrollContainer"});return r.createElement(c.x,{component:"scrollarea"===y?B.x:"div",..."scrollarea"===y?{offsetScrollbars:"x"}:{},ref:a,...g("scrollContainer"),...b},r.createElement("div",{...g("scrollContainerInner")},v))}));k.classes=u,k.displayName="@mantine/core/TableScrollContainer";const O={withRowBorders:!0,verticalSpacing:7},H=(0,o.Z)(((e,a)=>{let{layout:t,captionSide:r,horizontalSpacing:o,verticalSpacing:s,borderColor:d,stripedColor:c,highlightOnHoverColor:m,striped:h,highlightOnHover:v,stickyHeaderOffset:p,stickyHeader:u}=a;return{table:{"--table-layout":t,"--table-caption-side":r,"--table-horizontal-spacing":(0,l.bG)(o),"--table-vertical-spacing":(0,l.bG)(s),"--table-border-color":d?(0,i.p)(d,e):void 0,"--table-striped-color":h&&c?(0,i.p)(c,e):void 0,"--table-highlight-on-hover-color":v&&m?(0,i.p)(m,e):void 0,"--table-sticky-header-offset":u?(0,n.h)(p):void 0}}})),_=(0,m.d)(((e,a)=>{const t=(0,s.w)("Table",O,e),{classNames:n,className:l,style:o,styles:i,unstyled:m,vars:h,horizontalSpacing:p,verticalSpacing:y,captionSide:b,stripedColor:g,highlightOnHoverColor:w,striped:x,highlightOnHover:f,withColumnBorders:N,withRowBorders:S,withTableBorder:C,borderColor:B,layout:E,variant:j,data:k,children:_,stickyHeader:R,stickyHeaderOffset:q,...I}=t,z=(0,d.y)({name:"Table",props:t,className:l,style:o,classes:u,classNames:n,styles:i,unstyled:m,rootSelector:"table",vars:h,varsResolver:H});return r.createElement(v,{value:{getStyles:z,stickyHeader:R,striped:!0===x?"odd":x||void 0,highlightOnHover:f,withColumnBorders:N,withRowBorders:S,captionSide:b||"bottom"}},r.createElement(c.x,{component:"table",variant:j,ref:a,mod:{"data-with-table-border":C},...z("table"),...I},_||!!k&&r.createElement(T,{data:k})))}));_.classes=u,_.displayName="@mantine/core/Table",_.Td=w,_.Th=g,_.Tr=x,_.Thead=f,_.Tbody=N,_.Tfoot=S,_.Caption=C,_.ScrollContainer=k,_.DataRenderer=T},2765:(e,a,t)=>{t.d(a,{x:()=>y});var r=t(2791),n=t(5146),l=t(5838),o=t(3768),i=t(1241),s=t(6519),d=t(204),c=t(245),m=t(6481),h={root:"m-b6d8b162"};function v(e){return"start"===e?"start":"end"===e||e?"end":void 0}const p={inherit:!1},u=(0,l.Z)(((e,a)=>{let{variant:t,lineClamp:r,gradient:l,size:s,color:d}=a;return{root:{"--text-fz":(0,n.yv)(s),"--text-lh":(0,n.Dp)(s),"--text-gradient":"gradient"===t?(0,i.u)(l,e):void 0,"--text-line-clamp":"number"===typeof r?r.toString():void 0,"--text-color":d?(0,o.p)(d,e):void 0}}})),y=(0,m.b)(((e,a)=>{const t=(0,s.w)("Text",p,e),{lineClamp:n,truncate:l,inline:o,inherit:i,gradient:m,span:y,__staticSelector:b,vars:g,className:w,style:x,classNames:f,styles:N,unstyled:S,variant:C,mod:T,size:B,...E}=t,j=(0,d.y)({name:["Text",b],props:t,classes:h,className:w,style:x,classNames:f,styles:N,unstyled:S,vars:g,varsResolver:u});return r.createElement(c.x,{...j("root",{focusable:!0}),ref:a,component:y?"span":"p",variant:C,mod:[{"data-truncate":v(l),"data-line-clamp":"number"===typeof n,"data-inline":o,"data-inherit":i},T],size:B,...E})}));y.classes=h,y.displayName="@mantine/core/Text"}}]);
//# sourceMappingURL=225.9458030c.chunk.js.map