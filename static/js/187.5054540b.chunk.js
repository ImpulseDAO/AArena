"use strict";(self.webpackChunkdapp=self.webpackChunkdapp||[]).push([[187],{2174:(e,t,r)=>{r.d(t,{L:()=>i,S9:()=>d,_H:()=>o,kw:()=>u});r(3902);var s=r(3051),n=r(6070);const a=(0,n.B)("\n  query BattleLogs {\n    battleLogs {\n      id\n      battleIndex\n      character1 {\n        winner\n        attributes\n        character\n        experience\n        rating\n        level\n      }\n      character2 {\n        winner\n        attributes\n        experience\n        character\n        level\n        rating\n      }\n      lobby {\n        id\n        characters {\n          id\n          character {\n            owner\n            name\n            level\n            experience\n            attributes\n            id\n          }\n        }\n        capacity\n      }\n      turns {\n        character1 {\n          energy\n          hp\n          position\n        }\n        logs {\n          action\n          character\n        }\n        character2 {\n          energy\n          position\n          hp\n        }\n      }\n    }\n  }\n"),o=()=>{var e;const t=(0,s.a)(a,void 0,{select:e=>e.battleLogs});return null===(e=t.data)||void 0===e||e.forEach((e=>{console.log("battleLog",e)})),t},l=(0,n.B)("\n  query BattleLogById($battleId: String!) {\n    battleLogById(id: $battleId) {\n      id\n      battleIndex\n      character1 {\n        winner\n        attributes\n        character\n        experience\n        rating\n        level\n      }\n      character2 {\n        winner\n        attributes\n        experience\n        character\n        level\n        rating\n      }\n      lobby {\n        id\n        characters {\n          id\n          character {\n            owner\n            name\n            level\n            experience\n            attributes\n            id\n          }\n        }\n        capacity\n      }\n      turns {\n        character1 {\n          energy\n          hp\n          position\n        }\n        logs {\n          action\n          character\n        }\n        character2 {\n          energy\n          position\n          hp\n        }\n      }\n    }\n  }\n"),i=e=>{let{battleId:t}=e;return(0,s.a)(l,{battleId:`${t}`},{enabled:null!=t,select:e=>e.battleLogById,placeholderData:e=>e})},c=(0,n.B)("\n  query BattleLogsByLobbyId($lobbyId: String!) {\n    battleLogs(where: { lobby: { id_eq: $lobbyId } }) {\n      id\n    }\n  }\n"),d=e=>{let{lobbyId:t}=e;return(0,s.a)(c,{lobbyId:`${t}`},{enabled:null!=t,select:e=>e.battleLogs})},u=(e,t)=>{var r;return null===(r=e.lobby.characters.find((e=>{let{character:{id:r}}=e;return r===t})))||void 0===r?void 0:r.character}},6989:(e,t,r)=>{r.d(t,{J5:()=>c,fL:()=>m,m6:()=>u});var s=r(6070),n=r(3051),a=r(5875),o=r(6299),l=r(3675);const i=(0,s.B)("\n  query Lobbies {\n    lobbies {\n      id\n      capacity\n      reservationsCount\n      characters {\n        id\n        character {\n          id\n          name\n          owner\n          level\n          experience\n          attributes\n        }\n      }\n      battleLogs {\n        id\n      }\n    }\n  }\n"),c=()=>(0,n.a)(i,void 0,{refetchInterval:3e3}),d=(0,s.B)("\n  query LobbyById2($id: String!) {\n    lobbyById(id: $id) {\n      id\n      capacity\n      reservationsCount\n      characters {\n        id\n        character {\n          id\n          name\n          owner\n          level\n          experience\n          attributes\n        }\n      }\n      battleLogs {\n        id\n      }\n    }\n  }\n"),u=e=>{let{id:t}=e;return(0,n.a)(d,{id:`${t}`},{refetchInterval:3e3})},m=()=>{const e=(0,l.VY)(),t=(0,a.G)(),{isAccountReady:r}=(0,l.mA)();return r?r=>{let{capacity:s}=r;if(!(s<=0))return new Promise(((e,r)=>{t({payload:{CreateLobby:{capacity:`${s}`}},gasLimit:o.yQ,onSuccess:()=>{console.log("success"),e("success")},onError:()=>{console.log("error"),r("error")}})}));e.error("Capacity must be greater than 0")}:e=>{let{capacity:t}=e;return Promise.resolve()}}},5875:(e,t,r)=>{r.d(t,{G:()=>i,c:()=>c});var s=r(9702),n=r(3675),a=r(6299),o=r(2791);const l={isMaxGasLimit:!0},i=()=>{const e=(0,o.useMemo)((()=>s.Pj.from(a.Rv)),[]),t=(0,n.$3)(a.mC,e,l);return(0,o.useCallback)(t,[])},c=()=>{const e=(0,o.useMemo)((()=>s.Pj.from(a.cV)),[]),t=(0,n.$3)(a.ZB,e,l);return(0,o.useCallback)(t,[])}},4869:(e,t,r)=>{r.d(t,{f:()=>l});var s=r(7065),n=r(2765),a=r(245),o=r(184);const l=e=>{let{gasNeeded:t,gasReserved:r,...a}=e;return(0,o.jsxs)(s.k,{align:"center",gap:"xs",...a,children:[(0,o.jsx)(s.k,{gap:2.75,children:Array.from({length:t}).map(((e,t)=>(0,o.jsx)(i,{filled:t<r},t)))}),(0,o.jsx)(n.x,{c:"white",fw:600,children:"Gas Reserved"})]})},i=e=>{let{filled:t}=e;return(0,o.jsx)(a.x,{bg:t?"primary":"white",w:20,h:8,style:{borderRadius:4}})}},233:(e,t,r)=>{r.d(t,{j:()=>p});var s=r(2791),n=r(5316);const a=n.ZP.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  box-sizing: border-box;
  border-left: 2px solid white;
  border-right: 2px solid white;
  border-bottom: 2px solid white;
  border-bottom-left-radius: 12px;
  border-bottom-right-radius: 12px;

  overflow: hidden;
`,o=n.ZP.div`
  display: flex;
  align-items: center;
  height: 16px;
  gap: 4px;
  ${e=>{let{position:t}=e;return n.iv`
    justify-content: ${t};
  `}}
`,l=n.ZP.p`
  color: white;
  font-size: 12px;
  font-weight: ${e=>{let{active:t}=e;return t?"bold":"normal"}};
  padding-left: ${e=>{let{isLeftPadded:t}=e;return t?"1.5rem":""}};
`,i=n.ZP.div`
  display: flex;
  align-items: center;
  background: rgba(0, 0, 0, 0.7);
  height: 40px;
`,c=n.ZP.div`
  display: flex;
  flex-direction: column;
`,d={Container:a,Columns:i,Column:o,ColumnText:l,Row:n.ZP.div`
  height: 72px;
  display: flex;
  align-items: center;
  font-size: 14px;
  color: white;
  background: rgba(0, 0, 0, 0.7);
  border-top: 1px solid white;

  position: relative;

  &:last-child {
    border-bottom-left-radius: 12px;
    border-bottom-right-radius: 12px;
  }
`,Rows:c,Cell:n.ZP.div`
  display: flex;
  ${e=>{let{position:t}=e;return n.iv`
    justify-content: ${t};
  `}}

  cursor: ${e=>{let{ableClick:t}=e;return t?"pointer":"default"}};
`};let u=function(e){return e.ascending="ascending",e.descending="descending",e.default="default",e}({});var m=r(184);const p=e=>{let{columns:t,rows:r,cellClick:n}=e;const[a,o]=(0,s.useState)({field:void 0,sortType:u.default}),l=(e=>{let{sortedColumn:t,rows:r}=e;const[n,a]=(0,s.useState)(r);return(0,s.useEffect)((()=>{const e=[...r],{field:s,sortName:n}=t;s&&(t.sortType===u.ascending&&e.sort(((e,t)=>{const r=n?"sortName":s,a=e[r].toUpperCase(),o=t[r].toUpperCase();return a>o?1:o>a?-1:0})),t.sortType===u.descending&&e.sort(((e,t)=>{const r=n?"sortName":s,a=e[r].toUpperCase(),o=t[r].toUpperCase();return a>o?-1:o>a?1:0}))),a(e)}),[r,t]),n})({rows:r,sortedColumn:a}),i=(e=>{let{columns:t,rows:r,cellClick:n}=e;return(0,s.useMemo)((()=>r.map(((e,r)=>{const s=t.reduce(((t,r,s)=>[...t,(0,m.jsx)(d.Cell,{position:r.position,style:{width:r.width},ableClick:!!n,children:(0,m.jsx)("div",{onClick:()=>null===n||void 0===n?void 0:n(e),children:e[r.field]})},s)]),[]);return(0,m.jsx)(d.Row,{children:s},r)}))),[n,t,r])})({columns:t,rows:l,cellClick:n}),c=(e=>(0,s.useCallback)((t=>()=>{const{field:r,sortable:s,sortName:n}=t;e((e=>{if(!s)return e;if(e.field===r){let t=e.sortType===u.ascending?u.descending:e.sortType===u.descending?u.default:u.ascending;return{field:r,sortType:t,sortName:n}}return{field:r,sortType:u.ascending,sortName:n}}))}),[e]))(o);return(0,m.jsxs)(d.Container,{children:[(0,m.jsx)(d.Columns,{children:t.map(((e,t)=>{var r;return(0,m.jsx)(d.Column,{position:e.position,style:{width:e.width},onClick:c(e),children:(0,m.jsx)(d.ColumnText,{active:a.sortType!==u.default&&a.field===e.field,sortable:null!==(r=e.sortable)&&void 0!==r&&r,isLeftPadded:0===t,children:e.headerName})},e.field)}))}),(0,m.jsx)(d.Rows,{children:i})]})}},5619:(e,t,r)=>{r.d(t,{k:()=>a});var s=r(8501),n=r(184);const a=e=>{let{children:t,onClick:r,...a}=e;return(0,n.jsx)(s.z,{onClick:r,radius:"sm",bg:"primary",size:"md",px:"xl",style:e=>({boxShadow:e.shadows.sm}),styles:e=>({root:{"&:disabled":{backgroundColor:e.colors.gray[5],color:e.colors.gray[6]}}}),...a,children:t})}},1313:(e,t,r)=>{r.d(t,{i:()=>n});var s=r(3675);const n=()=>{const{account:e}=(0,s.mA)();return null===e||void 0===e?void 0:e.decodedAddress}},1187:(e,t,r)=>{r.r(t),r.d(t,{Lobby:()=>M});var s=r(2791);const n=r.p+"static/media/progress.32123ade9716c5ec3561f8cd389547ec.svg";var a=r(7689),o=r(3675),l=r(9702),i=r(6299),c=r(8501),d=r(2765),u=r(5563),m=r(184);const p="Reserve gas",y="Start battle",b=e=>{let{hasPlayerJoined:t,lobbyId:r,players:n,playersNeeded:b,refreshState:g,onGasReserved:v,onStartButtonSucess:f}=e;const x=(0,o.VY)(),w=((0,a.s0)(),(0,s.useMemo)((()=>l.Pj.from(i.Rv)),[])),N=(0,o.$3)(i.mC,w,{isMaxGasLimit:!0}),{gasReservedTimes:j,handleGasReserved:C}=h({onGasReserved:v}),[A,I]=s.useState(!1),k=b>2,B=t?0===j?p:1===j?k?p:y:2===j?y:void 0:"Join the battle",S=t&&b>n.length,L=s.useCallback((()=>new Promise((e=>{N({payload:{ReserveGas:{lobby_id:r}},gasLimit:i.yQ,onSuccess:()=>{console.log("successfully reserved gas"),e("successfully reserved gas"),C()},onError:()=>console.log("error while reserving gas")})}))),[N,r,C]),R=s.useCallback((()=>new Promise((e=>{N({payload:{Play:{lobby_id:r}},gasLimit:i.yQ,onSuccess:()=>{localStorage.setItem("players",JSON.stringify([])),console.log("successfully started the battle"),e("successfully started the battle"),null===f||void 0===f||f()},onError:()=>console.log("error while starting the battle")})}))),[N,r,f]),G=(0,u.d)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.z,{className:["action_button",S&&"disabled"].filter(Boolean).join(" "),onClick:async()=>{if(I(!0),t)0===j?await L():1===j?k?await L():await R():2===j&&await R(),I(!1);else{if(!r){const e="lobbyId is not defined";return console.error(e),void x.error(e)}console.log("registerForBattle called with lobbyId: ",r);try{await G({lobbyId:r}),g()}finally{I(!1)}}},disabled:S,loading:A,children:B}),(0,m.jsx)(c.z,{className:["action_button"].join(" "),onClick:async()=>{if(I(!0),!t){const e="You are not registered for the battle";return console.error(e),void x.error(e)}try{await R()}finally{I(!1)}},loading:A,children:"Start battle"}),t?(0,m.jsx)(d.x,{size:"xs",mt:3,children:`Gas reserved ${j} time(s)`}):null,null]})},h=e=>{let{onGasReserved:t}=e;const[r,n]=s.useState(0);s.useRef(t).current=t;return{gasReservedTimes:r,handleGasReserved:(0,s.useCallback)((()=>{n((e=>(null===t||void 0===t||t(e+1),e+1)))}),[t])}};var g=r(6989),v=r(4869),f=r(3901),x=r(7230),w=r(245),N=r(1313),j=r(763);var C=r(233),A=r(5850),I=r(2174),k=r(7065);const B=[{field:"id",headerName:"Player ID",width:220},{field:"NB",headerName:"Number of battles",width:144,position:"center"},{field:"level",headerName:"Level",width:172,position:"center"}],S=e=>{let{characters:t}=e;return(0,m.jsx)(L,{children:e=>(0,m.jsx)(R,{characters:t,battleLogs:e})})},L=e=>{let{children:t}=e;const{data:r}=(0,I._H)();return t(r)},R=e=>{let{characters:t,battleLogs:r}=e;const n=(0,s.useMemo)((()=>!t||(0,j.isEmpty)(Object.values(t))?[{name:"",id:"",NB:(0,m.jsx)(k.k,{align:"center",justify:"center",style:{position:"absolute",left:0,right:0,bottom:0,top:0},children:"Lobby is empty"}),level:"",isMyCharacter:!1}]:t.map((e=>{var t;let{name:s,id:n,level:a,isMyCharacter:o}=e;return{name:s,id:(0,m.jsx)(G,{name:s,id:(0,A.f5)(n),isSelected:o}),NB:null!==(t=null===r||void 0===r?void 0:r.filter((e=>{let{character1:t,character2:r}=e;return t.character===n||r.character===n})).length)&&void 0!==t?t:0,level:(0,m.jsxs)("span",{className:"row_lvl",children:[a," LVL"]}),isMyCharacter:o}}))),[r,t]);return(0,m.jsx)(C.j,{rows:n,columns:B})},G=e=>{let{name:t,id:r,isSelected:s}=e;return(0,m.jsxs)("div",{className:"row_player",children:[(0,m.jsx)("img",{src:"data:image/png;base64,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",alt:"AvatarIcon",className:""+(s?"selected_image":"")}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"row_name",children:t}),(0,m.jsx)("p",{children:r})]})]})};var T=r(5619),E=r(4538);const M=()=>{var e,t,r,o,l,c,u;const p=(0,a.s0)(),y=(0,N.i)(),[h,w]=s.useState(0),{lobbyId:j}=(0,a.UO)(),{data:C,refetch:A}=(0,g.m6)({id:null!==j&&void 0!==j?j:""}),I=null===C||void 0===C||null===(e=C.lobbyById)||void 0===e?void 0:e.characters,k=0!==(null===C||void 0===C||null===(t=C.lobbyById)||void 0===t||null===(r=t.battleLogs)||void 0===r?void 0:r.length),{characters:B,hasPlayerJoined:L}=(0,s.useMemo)((()=>{var e;if(!I)return{characters:[],hasPlayerJoined:!1};let t=!1;return{characters:null!==(e=I.map((e=>{var r;const s=e.character.owner===y;return t=t||s,{isMyCharacter:s,playerId:e.id,id:e.character.id,name:e.character.name,level:null!==(r=e.character.attributes.level)&&void 0!==r?r:0}})))&&void 0!==e?e:[],hasPlayerJoined:t}}),[y,I]),R=B.length,G=null===C||void 0===C||null===(o=C.lobbyById)||void 0===o?void 0:o.capacity,M=R===(null!==G&&void 0!==G?G:0),F=null!==(l=i.DP[null!==G&&void 0!==G?G:0])&&void 0!==l?l:0;return(0,m.jsx)("div",{className:"content_wrapper",children:(0,m.jsxs)("div",{className:"modal_queue",children:[(0,m.jsxs)("div",{className:"modal_loader",children:[(0,m.jsx)("p",{className:"modal_tille",children:"Tournament participants"}),(0,m.jsxs)(f.K,{align:"center",pos:"relative",w:"100%",children:[(0,m.jsx)(z,{lobbyId:j,tierText:null!==(c=null===C||void 0===C||null===(u=C.lobbyById)||void 0===u?void 0:u.tier)&&void 0!==c?c:""}),M?k?(0,m.jsx)(d.x,{className:"modal_info",color:"red",children:"Lobby ended"}):(0,m.jsx)("p",{className:"modal_info",children:"Ready to start"}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("img",{className:"modal_progress",src:n,alt:"ProgressIcon"}),(0,m.jsx)("p",{className:"modal_info",children:"Waiting players"})]})]}),(0,m.jsxs)(x.C,{c:"white",style:{textTransform:"none"},mb:"lg",children:[R," of ",G," players"]}),0!==F?(0,m.jsx)(v.f,{mt:"auto",mb:"xs",gasNeeded:F,gasReserved:h}):null]}),(0,m.jsx)("div",{className:"modal_table",children:(0,m.jsx)(S,{characters:B,hasPlayerJoined:L})}),null==I||k?null:(0,m.jsx)(b,{hasPlayerJoined:L,players:I,playersNeeded:null!==G&&void 0!==G?G:0,lobbyId:j,refreshState:()=>{console.log("refreshState"),A()},onGasReserved:e=>w(e),onStartButtonSucess:()=>{setTimeout((()=>{A(),p(E.F.tournamentResult({lobbyId:null!==j&&void 0!==j?j:""}))}),3e3)}}),k?(0,m.jsx)(T.k,{mt:"lg",w:200,onClick:()=>j&&p(E.F.tournamentResult({lobbyId:j})),children:"See results"}):null]})})},z=e=>{let{lobbyId:t,tierText:r}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w.x,{pos:"absolute",top:10,right:15,children:(0,m.jsxs)(d.x,{fz:12,fw:"600",color:"white",bg:"rgba(0, 0, 0, 0.4)",py:4,px:8,style:{borderRadius:9999},children:["Lobby ID #",t]})}),r&&""!==r?(0,m.jsx)(w.x,{pos:"absolute",top:10,left:15,children:(0,m.jsx)(d.x,{fz:12,fw:"600",color:"white",bg:"rgba(0, 0, 0, 0.4)",py:4,px:8,style:{borderRadius:9999},children:r})}):null]})}},139:(e,t,r)=>{r.d(t,{Z:()=>o});var s=r(3675),n=r(2791),a=r(9778).lW;const o=e=>{const t=(0,s.VY)(),[r,o]=(0,n.useState)();return(0,n.useEffect)((()=>{e&&fetch(e).then((e=>e.arrayBuffer())).then((e=>a.from(e))).then((e=>o(e))).catch((e=>{let{message:r}=e;return t.error(`Fetch error: ${r}`)}))}),[t,e]),{buffer:r}}},5563:(e,t,r)=>{r.d(t,{d:()=>c});var s=r(139),n=r(2791),a=r(6299),o=r(3675),l=r(9702),i=r(96);const c=()=>{const{account:e}=(0,o.mA)(),{buffer:t}=(0,s.Z)(i),r=(0,n.useMemo)((()=>l.Pj.from(a.Rv)),[]),c=(0,o.$3)(a.mC,r,{isMaxGasLimit:!0}),d=(0,n.useMemo)((()=>({programId:a.mC,programMetadata:r,wasm:t,functionName:"registered",argument:null===e||void 0===e?void 0:e.decodedAddress})),[null===e||void 0===e?void 0:e.decodedAddress,r,t]),u=(0,o.J1)(d).state;return console.log("registered",u),(0,n.useCallback)((async t=>{let{lobbyId:r}=t;return new Promise((async(t,s)=>{c({payload:{Register:{owner_id:null===e||void 0===e?void 0:e.decodedAddress,lobby_id:r}},gasLimit:a.yQ,onSuccess:()=>{console.log('"Register" message successfully sent'),t(void 0)},onError:()=>{console.log("error"),s()}})}))}),[null===e||void 0===e?void 0:e.decodedAddress,c])}},96:(e,t,r)=>{e.exports=r.p+"static/media/arena.opt.184dc702b5c0a56042cf.wasm"},8501:(e,t,r)=>{r.d(t,{z:()=>x});var s=r(2791),n=r(5146),a=r(5838),o=r(6519),l=r(204),i=r(245),c=r(6481),d=r(3715),u=r(3274),m=r(2020),p=r(8592),y={root:"m-77c9d27d",inner:"m-80f1301b",loader:"m-a25b86ee",label:"m-811560b9",section:"m-a74036a",group:"m-80d6d844"};const b={orientation:"horizontal"},h=(0,a.Z)(((e,t)=>{let{borderWidth:r}=t;return{group:{"--button-border-width":(0,m.h)(r)}}})),g=(0,p.d)(((e,t)=>{const r=(0,o.w)("ButtonGroup",b,e),{className:n,style:a,classNames:c,styles:d,unstyled:u,orientation:m,vars:p,borderWidth:g,variant:v,...f}=(0,o.w)("ButtonGroup",b,e),x=(0,l.y)({name:"ButtonGroup",props:r,classes:y,className:n,style:a,classNames:c,styles:d,unstyled:u,vars:p,varsResolver:h,rootSelector:"group"});return s.createElement(i.x,{...x("group"),ref:t,variant:v,mod:{"data-orientation":m},role:"group",...f})}));g.classes=y,g.displayName="@mantine/core/ButtonGroup";const v={},f=(0,a.Z)(((e,t)=>{let{radius:r,color:s,gradient:a,variant:o,size:l,justify:i,autoContrast:c}=t;const d=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:a,variant:o||"filled",autoContrast:c});return{root:{"--button-justify":i,"--button-height":(0,n.ap)(l,"button-height"),"--button-padding-x":(0,n.ap)(l,"button-padding-x"),"--button-fz":null!==l&&void 0!==l&&l.includes("compact")?(0,n.yv)(l.replace("compact-","")):(0,n.yv)(l),"--button-radius":void 0===r?void 0:(0,n.H5)(r),"--button-bg":s||o?d.background:void 0,"--button-hover":s||o?d.hover:void 0,"--button-color":d.color,"--button-bd":s||o?d.border:void 0,"--button-hover-color":s||o?d.hoverColor:void 0}}})),x=(0,c.b)(((e,t)=>{const r=(0,o.w)("Button",v,e),{style:n,vars:a,className:c,color:m,disabled:p,children:b,leftSection:h,rightSection:g,fullWidth:x,variant:w,radius:N,loading:j,loaderProps:C,gradient:A,classNames:I,styles:k,unstyled:B,"data-disabled":S,autoContrast:L,...R}=r,G=(0,l.y)({name:"Button",props:r,classes:y,className:c,style:n,classNames:I,styles:k,unstyled:B,vars:a,varsResolver:f}),T=!!h,E=!!g;return s.createElement(u.k,{ref:t,...G("root",{active:!p&&!j&&!S}),unstyled:B,variant:w,disabled:p||j,mod:{disabled:p||S,loading:j,block:x,"with-left-section":T,"with-right-section":E},...R},s.createElement(i.x,{component:"span",...G("loader"),"aria-hidden":!0},s.createElement(d.a,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...C})),s.createElement("span",{...G("inner")},h&&s.createElement(i.x,{component:"span",...G("section"),mod:{position:"left"}},h),s.createElement(i.x,{component:"span",mod:{loading:j},...G("label")},b),g&&s.createElement(i.x,{component:"span",...G("section"),mod:{position:"right"}},g)))}));x.classes=y,x.displayName="@mantine/core/Button",x.Group=g},7065:(e,t,r)=>{r.d(t,{k:()=>h});var s=r(2791),n=r(1378),a=r(8069),o=r(6519),l=r(204),i=r(8406),c=r(8055),d=r(7247),u=r(245),m=r(6481);const p={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var y={root:"m-8bffd616"};const b={},h=(0,m.b)(((e,t)=>{const r=(0,o.w)("Flex",b,e),{classNames:m,className:h,style:g,styles:v,unstyled:f,vars:x,gap:w,rowGap:N,columnGap:j,align:C,justify:A,wrap:I,direction:k,...B}=r,S=(0,l.y)({name:"Flex",classes:y,props:r,className:h,style:g,classNames:m,styles:v,unstyled:f,vars:x}),L=(0,a.rZ)(),R=(0,d.m)(),G=(0,c.n)({styleProps:{gap:w,rowGap:N,columnGap:j,align:C,justify:A,wrap:I,direction:k},theme:L,data:p});return s.createElement(s.Fragment,null,G.hasResponsiveStyles&&s.createElement(i.f,{selector:`.${R}`,styles:G.styles,media:G.media}),s.createElement(u.x,{ref:t,...S("root",{className:R,style:(0,n.L)(G.inlineStyles)}),...B}))}));h.classes=y,h.displayName="@mantine/core/Flex"},3901:(e,t,r)=>{r.d(t,{K:()=>p});var s=r(2791),n=r(5146),a=r(5838),o=r(6519),l=r(204),i=r(245),c=r(8592),d={root:"m-6d731127"};const u={gap:"md",align:"stretch",justify:"flex-start"},m=(0,a.Z)(((e,t)=>{let{gap:r,align:s,justify:a}=t;return{root:{"--stack-gap":(0,n.bG)(r),"--stack-align":s,"--stack-justify":a}}})),p=(0,c.d)(((e,t)=>{const r=(0,o.w)("Stack",u,e),{classNames:n,className:a,style:c,styles:p,unstyled:y,vars:b,align:h,justify:g,gap:v,variant:f,...x}=r,w=(0,l.y)({name:"Stack",props:r,classes:d,className:a,style:c,classNames:n,styles:p,unstyled:y,vars:b,varsResolver:m});return s.createElement(i.x,{ref:t,...w("root"),variant:f,...x})}));p.classes=d,p.displayName="@mantine/core/Stack"},2765:(e,t,r)=>{r.d(t,{x:()=>h});var s=r(2791),n=r(5146),a=r(5838),o=r(3768),l=r(1241),i=r(6519),c=r(204),d=r(245),u=r(6481),m={root:"m-b6d8b162"};function p(e){return"start"===e?"start":"end"===e||e?"end":void 0}const y={inherit:!1},b=(0,a.Z)(((e,t)=>{let{variant:r,lineClamp:s,gradient:a,size:i,color:c}=t;return{root:{"--text-fz":(0,n.yv)(i),"--text-lh":(0,n.Dp)(i),"--text-gradient":"gradient"===r?(0,l.u)(a,e):void 0,"--text-line-clamp":"number"===typeof s?s.toString():void 0,"--text-color":c?(0,o.p)(c,e):void 0}}})),h=(0,u.b)(((e,t)=>{const r=(0,i.w)("Text",y,e),{lineClamp:n,truncate:a,inline:o,inherit:l,gradient:u,span:h,__staticSelector:g,vars:v,className:f,style:x,classNames:w,styles:N,unstyled:j,variant:C,mod:A,size:I,...k}=r,B=(0,c.y)({name:["Text",g],props:r,classes:m,className:f,style:x,classNames:w,styles:N,unstyled:j,vars:v,varsResolver:b});return s.createElement(d.x,{...B("root",{focusable:!0}),ref:t,component:h?"span":"p",variant:C,mod:[{"data-truncate":p(a),"data-line-clamp":"number"===typeof n,"data-inline":o,"data-inherit":l},A],size:I,...k})}));h.classes=m,h.displayName="@mantine/core/Text"},3274:(e,t,r)=>{r.d(t,{k:()=>d});var s=r(2791),n=r(6519),a=r(204),o=r(245),l=r(6481),i={root:"m-87cf2631"};const c={__staticSelector:"UnstyledButton"},d=(0,l.b)(((e,t)=>{const r=(0,n.w)("UnstyledButton",c,e),{className:l,component:d="button",__staticSelector:u,unstyled:m,classNames:p,styles:y,style:b,...h}=r,g=(0,a.y)({name:u,props:r,classes:i,className:l,style:b,classNames:p,styles:y,unstyled:m});return s.createElement(o.x,{...g("root",{focusable:!0}),component:d,ref:t,type:"button"===d?"button":void 0,...h})}));d.classes=i,d.displayName="@mantine/core/UnstyledButton"}}]);
//# sourceMappingURL=187.5054540b.chunk.js.map