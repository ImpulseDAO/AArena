"use strict";(self.webpackChunkdapp=self.webpackChunkdapp||[]).push([[181],{2174:(e,t,n)=>{n.d(t,{L:()=>c,S9:()=>d,_H:()=>i,kw:()=>u});n(3902);var l=n(3051),a=n(6070);const r=(0,a.B)("\n  query BattleLogs {\n    battleLogs {\n      id\n      battleIndex\n      character1 {\n        winner\n        attributes\n        character\n        experience\n        rating\n        level\n      }\n      character2 {\n        winner\n        attributes\n        experience\n        character\n        level\n        rating\n      }\n      lobby {\n        id\n        characters {\n          id\n          character {\n            owner\n            name\n            level\n            experience\n            attributes\n            id\n          }\n        }\n        capacity\n      }\n      turns {\n        character1 {\n          energy\n          hp\n          position\n        }\n        logs {\n          action\n          character\n        }\n        character2 {\n          energy\n          position\n          hp\n        }\n      }\n    }\n  }\n"),i=()=>{var e;const t=(0,l.a)(r,void 0,{select:e=>e.battleLogs});return null===(e=t.data)||void 0===e||e.forEach((e=>{console.log("battleLog",e)})),t},s=(0,a.B)("\n  query BattleLogById($battleId: String!) {\n    battleLogById(id: $battleId) {\n      id\n      battleIndex\n      character1 {\n        winner\n        attributes\n        character\n        experience\n        rating\n        level\n      }\n      character2 {\n        winner\n        attributes\n        experience\n        character\n        level\n        rating\n      }\n      lobby {\n        id\n        characters {\n          id\n          character {\n            owner\n            name\n            level\n            experience\n            attributes\n            id\n          }\n        }\n        capacity\n      }\n      turns {\n        character1 {\n          energy\n          hp\n          position\n        }\n        logs {\n          action\n          character\n        }\n        character2 {\n          energy\n          position\n          hp\n        }\n      }\n    }\n  }\n"),c=e=>{let{battleId:t}=e;return(0,l.a)(s,{battleId:`${t}`},{enabled:null!=t,select:e=>e.battleLogById,placeholderData:e=>e})},o=(0,a.B)("\n  query BattleLogsByLobbyId($lobbyId: String!) {\n    battleLogs(where: { lobby: { id_eq: $lobbyId } }) {\n      id\n    }\n  }\n"),d=e=>{let{lobbyId:t}=e;return(0,l.a)(o,{lobbyId:`${t}`},{enabled:null!=t,select:e=>e.battleLogs})},u=(e,t)=>{var n;return null===(n=e.lobby.characters.find((e=>{let{character:{id:n}}=e;return n===t})))||void 0===n?void 0:n.character}},1064:(e,t,n)=>{n.d(t,{s:()=>r});var l=n(4116),a=n(184);const r=e=>{let{children:t,turnOffPadding:n=!1,...r}=e;return(0,a.jsx)(l.X,{...n?{}:{p:"lg"},bg:"rgba(0, 0, 0, 0.7)",withBorder:!0,radius:12,style:{border:"2px solid #eaecf0",color:"white"},...r,children:t})}},5619:(e,t,n)=>{n.d(t,{k:()=>r});var l=n(8501),a=n(184);const r=e=>{let{children:t,onClick:n,...r}=e;return(0,a.jsx)(l.z,{onClick:n,radius:"sm",bg:"primary",size:"md",px:"xl",style:e=>({boxShadow:e.shadows.sm}),styles:e=>({root:{"&:disabled":{backgroundColor:e.colors.gray[5],color:e.colors.gray[6]}}}),...r,children:t})}},4330:(e,t,n)=>{n.d(t,{j:()=>i});var l=n(245);var a=n(2791),r=n(184);const i=e=>{let{isMyCharacter:t,name:n,shortId:a,exp:i,maxExp:c,level:o,...d}=e;return(0,r.jsxs)(l.x,{className:"profile_user",...d,children:[(0,r.jsx)("img",{className:"profile_avatar "+(t?"my_avatar":""),src:"data:image/png;base64,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",alt:"AvatarIcon"}),(0,r.jsxs)("div",{className:"profile_name",children:[(0,r.jsx)("p",{children:n}),(0,r.jsx)("p",{children:a}),(0,r.jsx)(s,{maxXp:c,curXp:i,level:o})]})]})},s=e=>{let{maxXp:t,curXp:n,level:l}=e;const[i,s]=(0,a.useState)(0);return(0,a.useEffect)((()=>{setTimeout((()=>s(n/t*100)),300)})),(0,r.jsxs)("div",{className:"level_bar_wrapper",children:[(0,r.jsx)("span",{className:"level_bar_text",children:"Level"}),(0,r.jsx)("div",{className:"level_bar",children:(0,r.jsx)("div",{className:"level_bar_progress",style:{maxWidth:`${i}%`}})}),(0,r.jsx)("span",{className:"level_bar_level",children:l})]})}},6127:(e,t,n)=>{n.d(t,{b:()=>d});var l=n(245),a=n(939),r=n(7065),i=n(9793),s=n(8501),c=n(2765),o=n(184);const d=e=>{var t;let{character:n,isReadyForLevelUp:r=!1,selectAttr:i,...s}=e;return(0,o.jsxs)(l.x,{...s,style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[(0,o.jsx)(a.i,{mt:"sm"}),(0,o.jsx)(u,{attributeName:"Rating",value:null!==(t=n.tier_rating)&&void 0!==t?t:0,my:"lg"}),(0,o.jsx)(a.i,{mb:"xs"}),(0,o.jsx)(u,{attributeName:"Strength",value:n.attributes.strength,my:"sm",selectAttr:r?i:void 0}),(0,o.jsx)(u,{attributeName:"Agility",value:n.attributes.agility,my:"sm",selectAttr:r?i:void 0}),(0,o.jsx)(u,{attributeName:"Vitality",value:n.attributes.vitality,my:"sm",selectAttr:r?i:void 0}),(0,o.jsx)(u,{attributeName:"Stamina",value:n.attributes.stamina,my:"sm",selectAttr:r?i:void 0}),(0,o.jsx)(u,{attributeName:"Intelligence",value:n.attributes.intelligence,my:"sm",selectAttr:r?i:void 0})]})},u=e=>{let{attributeName:t,value:n,selectAttr:l,...a}=e;return(0,o.jsxs)(r.k,{justify:"space-between",align:"center",...a,children:[(0,o.jsxs)(r.k,{align:"center",gap:"sm",children:[l&&(0,o.jsx)(i.u,{multiline:!0,label:"You have points to spend after leveling up.\nClick on the attribute to increase it.",position:"top-start",transitionProps:{duration:400},children:(0,o.jsx)(s.z,{variant:"outline",onClick:()=>l(t),c:"white",style:{paddingInline:".8rem"},children:"+"})}),(0,o.jsx)(c.x,{children:t})]}),(0,o.jsx)(c.x,{fw:"600",children:n})]})}},2270:(e,t,n)=>{n.d(t,{u:()=>r});n(2791);var l=n(6299),a=n(184);const r=e=>{let{lives:t,health:n,healthMax:r,energy:i,energyMax:s}=e;const c=r?(null!==n&&void 0!==n?n:0)/r*100:100,o=s?(null!==i&&void 0!==i?i:0)/s*100:100;let d=[];return null!=t&&(d=Array(l.Oo).fill(null).map(((e,n)=>n+1>t?(0,a.jsx)("div",{className:"lifeIndicator empty"},n):(0,a.jsx)("div",{className:"lifeIndicator"},n)))),(0,a.jsxs)("div",{className:"outer-wrapper",children:[null!=t&&(0,a.jsxs)("div",{className:"flex-container",children:[(0,a.jsx)("div",{className:"elem1 leftText",children:"Lives"}),(0,a.jsx)("div",{className:"elem2 livesContainer",children:d}),(0,a.jsxs)("div",{className:"elem3 elem_number",children:[t,"/5"]})]}),(0,a.jsxs)("div",{className:"flex-container",children:[(0,a.jsx)("div",{className:"elem1 leftText",children:"Health"}),(0,a.jsx)("div",{className:"elem2 healthBar",children:(0,a.jsx)("div",{className:"healthBarInner",style:{maxWidth:`${c}%`}})}),(0,a.jsx)("div",{className:"elem3 elem_number",children:r?`${n}/${r}`:n})]}),(0,a.jsxs)("div",{className:"flex-container",children:[(0,a.jsx)("div",{className:"elem1 leftText",children:"Energy"}),(0,a.jsx)("div",{className:"elem2 energyBar",children:(0,a.jsx)("div",{className:"energyBarInner",style:{maxWidth:`${o}%`}})}),(0,a.jsx)("div",{className:"elem3 elem_number",children:s?`${i}/${s}`:i})]})]})}},1636:(e,t,n)=>{n.d(t,{sL:()=>W,$3:()=>B,qN:()=>A});const l={element:"BattleResult_element__063Mz",isInactive:"BattleResult_isInactive__E5cnv"};var a=n(8182),r=n(245),i=n(7065),s=n(2765),c=n(1064),o=n(2791),d=n(7689),u=n(2174),h=n(2030),x=n(3332),m=n(9459);function v(e){return t=>function(e,t){const{alt:n,ctrl:l,meta:a,mod:r,shift:i,key:s}=e,{altKey:c,ctrlKey:o,metaKey:d,shiftKey:u,key:h}=t;if(n!==c)return!1;if(r){if(!o&&!d)return!1}else{if(l!==o)return!1;if(a!==d)return!1}return i===u&&!(!s||h.toLowerCase()!==s.toLowerCase()&&t.code.replace("Key","").toLowerCase()!==s.toLowerCase())}(function(e){const t=e.toLowerCase().split("+").map((e=>e.trim())),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},l=["alt","ctrl","meta","shift","mod"];return{...n,key:t.find((e=>!l.includes(e)))}}(e),t)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["INPUT","TEXTAREA","SELECT"],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,o.useEffect)((()=>{const l=l=>{e.forEach((e=>{let[a,r,i={preventDefault:!0}]=e;v(a)(l)&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(e.target instanceof HTMLElement)||(n||!e.target.isContentEditable)&&!t.includes(e.target.tagName)}(l,t,n)&&(i.preventDefault&&l.preventDefault(),r(l))}))};return document.documentElement.addEventListener("keydown",l),()=>document.documentElement.removeEventListener("keydown",l)}),[e])}var y=n(5596);const b="TextButton_textButton__dEQDz";var j=n(184);const g=e=>{let{disabled:t=!1,onClick:n,children:l}=e;return(0,j.jsx)(y.e,{className:b,pl:"sm",onClick:t?void 0:n,children:l})},f=["fireball","waterRestoration","earthCatapult","waterBurst","fireWall","fireHaste","earthSmites","earthSkin","chillingTouch"];const k=e=>{let{charName:t,color:n}=e;return(0,j.jsx)(s.x,{component:"span",color:n,children:t})},I=(e,t,n)=>{var l,a,r,i,c;switch(!0){case null!=e.action.move:return(0,j.jsxs)(s.x,{component:"span",children:[(0,j.jsx)(k,{charName:t,color:n})," moves to position ",null===(l=e.action.move)||void 0===l?void 0:l.position,"."]});case null!=e.action.attack:const{kind:o,result:d}=null!==(a=e.action.attack)&&void 0!==a?a:{result:{}};return(0,j.jsxs)(s.x,{component:"span",children:["damage"in d?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(k,{charName:t,color:n})," deals ",d.damage," dmg using ",null===o||void 0===o?void 0:o.toLowerCase()," attack"]}):null,"miss"in d?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(k,{charName:t,color:n})," misses trying to use ",null===o||void 0===o?void 0:o.toLowerCase()," attack."]}):null]});case null!=e.action.rest:return(0,j.jsxs)(s.x,{component:"span",children:[(0,j.jsx)(k,{charName:t,color:n})," rests, gaining ",null===(r=e.action.rest)||void 0===r?void 0:r.energy," energy."]});case null!=e.action.castSpell:const u=f.find((t=>{var n;return t in(null===(n=e.action.castSpell)||void 0===n?void 0:n.result)}));if(!u)return(0,j.jsx)(s.x,{component:"span",children:"Unknown spell"});const h=null!==(i=null===(c=e.action.castSpell)||void 0===c?void 0:c.result[u])&&void 0!==i?i:{};return(0,j.jsxs)(s.x,{component:"span",children:[(0,j.jsx)(k,{charName:t,color:n})," casts ",u," spell.","heal"in h?` ${h.heal} HP healed`:null,"damage"in h?` ${h.damage} damage dealt`:null,"enemyPosition"in h?` Enemy thrown to position ${h.enemyPosition}`:null]});case null!=e.action.fireWall:return(0,j.jsxs)(s.x,{component:"span",children:[(0,j.jsx)(k,{charName:t,color:n})," gets ",e.action.fireWall.damage," damage from firewall."]});case null!=e.action.notEnoughEnergy:return(0,j.jsxs)(s.x,{component:"span",children:[(0,j.jsx)(k,{charName:t,color:n})," doesn't have enough energy."]});case null!=e.action.parry:return(0,j.jsxs)(s.x,{component:"span",children:[(0,j.jsx)(k,{charName:t,color:n})," parries the attack."]});case null!=e.action.guardbreak:return(0,j.jsxs)(s.x,{component:"span",children:[(0,j.jsx)(k,{charName:t,color:n})," guardbreaks the attack."]});default:return(0,j.jsx)(s.x,{component:"span",children:"Unknown action"})}};var w=n(3901),C=n(6299),N=n(4330),S=n(6127),E=n(2270),L=n(5850);const P=e=>{var t,n,l,a;let{character:r,charState:i}=e;const s=Math.ceil(null!==(t=null===i||void 0===i?void 0:i.hp)&&void 0!==t?t:0),c=(0,C.K4)(r.attributes.vitality),d=Math.ceil(null!==(n=null===i||void 0===i?void 0:i.energy)&&void 0!==n?n:0),u=(0,C.JJ)(r.attributes.stamina),h=(0,o.useRef)(Math.random());return s===c&&d===u&&(h.current=Math.random()),(0,j.jsxs)(w.K,{gap:0,children:[(0,j.jsx)(E.u,{health:Math.ceil(null!==(l=null===i||void 0===i?void 0:i.hp)&&void 0!==l?l:0),healthMax:(0,C.K4)(r.attributes.vitality),energy:Math.ceil(null!==(a=null===i||void 0===i?void 0:i.energy)&&void 0!==a?a:0),energyMax:(0,C.JJ)(r.attributes.stamina)},h.current),(0,j.jsx)(N.j,{mt:"lg",isMyCharacter:!0,name:r.name,shortId:(0,L.f5)(r.id),exp:r.experience,maxExp:(0,L.Rr)(r.level),level:r.level}),(0,j.jsx)(S.b,{style:{justifySelf:"end"},character:r})]})},A=()=>{const{battleId:e}=(0,d.UO)();return null==e?(0,j.jsx)(h.l,{children:(0,j.jsx)(x.y,{})}):(0,j.jsx)(h.l,{children:(0,j.jsx)(B,{battleId:e,children:t=>(0,j.jsx)(W,{battleId:e,withPlayButton:!0,battleLog:t})})})},B=e=>{let{battleId:t,children:n}=e;const{data:l}=(0,u.L)({battleId:t});return n(l)},W=e=>{var t,n,d,u,h;let{battleId:v,setPlayButton:y,withPlayButton:b=!1,battleLog:f}=e;const k=null!=f,w=null===f||void 0===f?void 0:f.character1.character,C=null===f||void 0===f?void 0:f.character2.character,N=null===f||void 0===f||null===(t=f.lobby.characters.find((e=>e.character.id===w)))||void 0===t?void 0:t.character,S=null===f||void 0===f||null===(n=f.lobby.characters.find((e=>e.character.id===C)))||void 0===n?void 0:n.character,E=[N,S],L=(0,o.useRef)([]),[A,B]=(0,o.useState)(0),{turns:W}=null!==f&&void 0!==f?f:{},K=null===W||void 0===W?void 0:W[A],M=(null!==(d=null===W||void 0===W?void 0:W.length)&&void 0!==d?d:0)-1,[V,T]=[A>0,A<M];p([["ArrowUp",()=>V&&D(A-1)],["ArrowLeft",()=>V&&D(A-1)],["ArrowDown",()=>T&&D(A+1)],["ArrowRight",()=>T&&D(A+1)],["Space",()=>{var e;return null===(e=Z.current)||void 0===e?void 0:e.click()}]]);const D=(0,o.useCallback)((e=>B((t=>{var n;let l="function"===typeof e?e(t):e;if(l%7===0||l===M&&0===l){if(l>=0&&null!==(n=L.current)&&void 0!==n&&n[l]){var a;const e=l<t?Math.max(l-10,0):Math.min(l+10,M);null===(a=L.current[e])||void 0===a||a.scrollIntoView({behavior:"smooth",block:"nearest"})}}else;return l}))),[M]),[J,Y]=(0,o.useState)(!1);(0,o.useEffect)((()=>{if(J){const e=setInterval((()=>{D((e=>e<M?e+1:(Y(!1),e)))}),100);return()=>clearInterval(e)}}),[J,M,D]),o.useEffect((()=>()=>Y(!1)),[]);const R=function(e,t){const n=[];return e.forEach(((e,l)=>{const a=e.logs.map((e=>{const n=t.findIndex((t=>t.id===e.character)),l=t[n].name;try{return I(e,l,0===n?"coral":"cyan")}catch(a){return(0,j.jsx)(s.x,{c:"red",children:"Error while parsing log entry"})}}));0===l?n.push([(0,j.jsx)(s.x,{component:"span",children:"Battle started"})]):n.push(a)})),n}(null!==W&&void 0!==W?W:[],E.filter(Boolean)),Z=(0,o.useRef)(null),z=o.useMemo((()=>{const e=(0,j.jsx)(m.h,{w:"95px",buttonRef:Z,onClick:()=>{var e;A===M&&(D(0),null===(e=L.current)||void 0===e||e[0].scrollIntoView({behavior:"auto",block:"nearest"}));Y(!J)},rightSection:J?(0,j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",children:[(0,j.jsx)("path",{d:"M9 1.5C9 0.671573 8.32843 0 7.5 0V0C6.67157 0 6 0.671573 6 1.5V12.5C6 13.3284 6.67157 14 7.5 14V14C8.32843 14 9 13.3284 9 12.5V1.5Z",fill:"white"}),(0,j.jsx)("path",{d:"M3 1.5C3 0.671573 2.32843 0 1.5 0V0C0.671573 0 0 0.671573 0 1.5V12.5C0 13.3284 0.671573 14 1.5 14V14C2.32843 14 3 13.3284 3 12.5V1.5Z",fill:"white"})]}):(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 13 14",fill:"none",children:(0,j.jsx)("path",{d:"M11.8684 8.13702C12.7105 7.63168 12.7105 6.36832 11.8684 5.86298L2.39474 0.177857C1.55263 -0.327487 0.5 0.304193 0.5 1.31488L0.499999 12.6851C0.499999 13.6958 1.55263 14.3275 2.39474 13.8221L11.8684 8.13702Z",fill:"white"})}),children:J?"Pause":"Play"});return null===y||void 0===y||y(e),e}),[A,J,M,D,y]);return k&&null===f?(0,j.jsx)(x.y,{}):(0,j.jsxs)(j.Fragment,{children:[b?(0,j.jsx)(r.x,{mb:"md",children:z}):null,(0,j.jsxs)(i.k,{gap:"md",children:[(0,j.jsx)(c.s,{w:375,children:K?(0,j.jsx)(P,{character:N,charState:null!==(u=null===K||void 0===K?void 0:K.character1)&&void 0!==u?u:void 0}):null}),(0,j.jsxs)(c.s,{w:420,style:{display:"flex",flexDirection:"column"},pl:"1rem",mah:"75vh",children:[(0,j.jsxs)(r.x,{pl:"2rem",children:[(0,j.jsx)("p",{children:`Battle ID: ${v}`}),(0,j.jsxs)(r.x,{component:"p",mb:"sm",children:[(0,j.jsxs)(s.x,{component:"span",display:"inline-block",w:"125px",children:["Current turn: ",A]}),(0,j.jsx)(g,{disabled:!V,onClick:()=>D(A-1),children:"Prev"}),(0,j.jsx)(g,{disabled:!T,onClick:()=>D(A+1),children:"Next"})]})]}),(0,j.jsx)(r.x,{component:"ol",pl:"xl",start:0,style:{overflowY:"scroll"},children:R.map(((e,t)=>{const n=A<t;return(0,j.jsx)(r.x,{ref:e=>{L.current[t]=e},onClick:()=>D(t),component:"li",className:(0,a.Z)(l.element,n?l.inactive:null),children:(0,j.jsx)(r.x,{component:"span",...n?{style:e=>({opacity:"0.4"})}:{},children:e.map(((e,t)=>(0,j.jsx)("p",{children:e},t)))})},t)}))})]}),(0,j.jsx)(c.s,{w:375,children:K?(0,j.jsx)(P,{character:S,charState:null!==(h=null===K||void 0===K?void 0:K.character2)&&void 0!==h?h:void 0}):null})]})]})}},2714:(e,t,n)=>{n.r(t),n.d(t,{TournamentResultPage:()=>x,TournamentResultPageContent:()=>m});var l=n(2791),a=n(7065),r=n(7689),i=n(2030),s=n(3332),c=n(2174),o=n(1636),d=n(9459),u=n(4538);var h=n(184);const x=()=>{const{lobbyId:e}=(0,r.UO)();return e?(0,h.jsx)(m,{lobbyId:e}):(0,h.jsx)(i.l,{children:(0,h.jsx)(s.y,{})})},m=e=>{var t,n;let{lobbyId:x}=e;const[m,v]=l.useState(null),{data:p}=(0,c.S9)({lobbyId:x}),[y,b]=(()=>{const e=(0,r.s0)(),{lobbyId:t,battleId:n}=(0,r.UO)();return[parseInt(null!==n&&void 0!==n?n:"")||0,(0,l.useCallback)((l=>{"function"===typeof l&&(l=l(parseInt(null!==n&&void 0!==n?n:"0"))),t?e(u.F.tournamentResult({lobbyId:t,battleId:`${l}`})):console.error("lobbyId is not defined")}),[n,t,e])]})(),j=(null!==(t=null===p||void 0===p?void 0:p.length)&&void 0!==t?t:0)-1,g=null===p||void 0===p||null===(n=p[y])||void 0===n?void 0:n.id,f=j>0;return g?(0,h.jsxs)(i.l,{children:[(0,h.jsxs)(a.k,{gap:"sm",my:"md",children:[f?(0,h.jsx)(d.h,{onClick:()=>b((e=>Math.max(0,e-1))),size:"sm",disabled:0===y,leftSection:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 0C0.671573 0 0 0.671573 0 1.5V12.5C0 13.3284 0.671573 14 1.5 14C2.32843 14 3 13.3284 3 12.5V7.00065C3.00021 7.44261 3.21073 7.88448 3.63158 8.13702L13.1053 13.8221C13.9474 14.3275 15 13.6958 15 12.6851L15 1.31488C15 0.304194 13.9474 -0.327487 13.1053 0.177857L3.63158 5.86298C3.21073 6.11553 3.00021 6.55739 3 6.99935V1.5C3 0.671573 2.32843 0 1.5 0Z",fill:"currentColor"})}),children:"Previous battle"}):null,m,f?(0,h.jsx)(d.h,{onClick:()=>b((e=>Math.min(j,e+1))),size:"sm",disabled:y===j,rightSection:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 0C14.3284 0 15 0.671573 15 1.5V12.5C15 13.3284 14.3284 14 13.5 14C12.6716 14 12 13.3284 12 12.5V7.00065C11.9998 7.44261 11.7893 7.88448 11.3684 8.13702L1.89474 13.8221C1.05263 14.3275 -9.53674e-07 13.6958 -9.53674e-07 12.6851L0 1.31488C0 0.304194 1.05263 -0.327487 1.89474 0.177857L11.3684 5.86298C11.7893 6.11553 11.9998 6.55739 12 6.99935V1.5C12 0.671573 12.6716 0 13.5 0Z",fill:"currentColor"})}),children:"Next battle"}):null]}),g?(0,h.jsx)(o.$3,{battleId:g,children:e=>(0,h.jsx)(o.sL,{battleLog:e,battleId:g,setPlayButton:v},g)}):null]}):(0,h.jsx)(i.l,{children:(0,h.jsx)(s.y,{})})}},2030:(e,t,n)=>{n.d(t,{l:()=>i});var l=n(5958);const a=n.p+"static/media/battle.9a9631f33126418f973f.webp";var r=n(184);const i=e=>{let{children:t}=e;return(0,r.jsx)(l.X,{src:a,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",paddingBlock:"2rem"},children:t})}},3332:(e,t,n)=>{n.d(t,{y:()=>o});var l=n(3901),a=n(4538),r=n(1064),i=n(5619),s=n(7689),c=n(184);const o=()=>{const e=(0,s.s0)();return(0,c.jsx)(r.s,{my:"auto",children:(0,c.jsxs)(l.K,{children:["Battle ID not provided",(0,c.jsx)(i.k,{onClick:()=>e(a.F.arena),children:"Go to arena"})]})})}},9459:(e,t,n)=>{n.d(t,{h:()=>s});var l=n(8501);const a="BlackButton_blackButton__a-fm1";var r=n(8182),i=n(184);const s=e=>{let{children:t,style:n,onClick:s,buttonRef:c,className:o,...d}=e;return(0,i.jsx)(l.z,{className:(0,r.Z)(a,o),ref:c,h:44,bg:"black",style:{display:"inline-flex",padding:"10px 16px",justifyContent:"center",alignItems:"center",gap:"12px",borderRadius:"8px",transition:"background .1s ease-in-out",...null!==n&&void 0!==n?n:{}},...d,onClick:s,children:t})}}}]);
//# sourceMappingURL=181.0316905c.chunk.js.map